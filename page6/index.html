<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>Bloggure</title>
    <meta
      name="description"
      content="Multi author blog about programming, computing and geek stuff"
    />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Bloggure" />
    <meta
      property="og:description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta property="og:url" content="http://www.bloggure.info/page6/" />
    <meta property="og:site_name" content="Bloggure" />

    <link rel="canonical" href="http://www.bloggure.info/page6/" />
    <link
      href="http://www.bloggure.info/feed.xml"
      type="application/atom+xml"
      rel="alternate"
      title="Bloggure Feed"
    />

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- For all browsers -->
    <link
      rel="stylesheet"
      href="http://www.bloggure.info/assets/css/main.css"
    />
    <!-- Webfonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic"
      rel="stylesheet"
      type="text/css"
    />

    <meta http-equiv="cleartype" content="on" />

    <!-- Load Modernizr -->
    <script src="http://www.bloggure.info/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.ico" />
    <!-- 32x32 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.png" />
    <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.bloggure.info/images/apple-touch-icon-precomposed.png"
    />
    <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="http://www.bloggure.info/images/apple-touch-icon-72x72-precomposed.png"
    />
    <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="http://www.bloggure.info/images/apple-touch-icon-114x114-precomposed.png"
    />
    <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://www.bloggure.info/images/apple-touch-icon-144x144-precomposed.png"
    />
  </head>

  <body id="post-index">
    <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

    <div class="entry-header">
      <div class="header-title">
        <div class="header-title-wrap">
          <h1>Bloggure</h1>
          <h2></h2>
        </div>
        <!-- /.header-title-wrap -->
      </div>
      <!-- /.header-title -->
    </div>
    <!-- /.entry-header -->

    <div id="main" role="main">
      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2013-03-19T00:00:00+01:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/.java/alfred-glassfish-workflow"
                  >March 19, 2013</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.java/alfred-glassfish-workflow#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.java/alfred-glassfish-workflow"
              rel="bookmark"
              title="Alfred.app Glassfish workflow"
              itemprop="url"
              >Alfred.app Glassfish workflow</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en--><img
            class="size-thumbnail wp-image-879 alignright"
            alt="alfred-icon"
            src="/images/uploads/2013/03/alfred-icon-150x150.jpg"
            width="150"
            height="150"
          />
          <p>
            I recently bought the
            <a href="http://www.alfredapp.com/">Alfred.app</a> Powerpack. It is
            byfar the best application launcher / automation engine I've ever
            used. One of the new features of the second version of this
            application is user customizable workflows.
          </p>
          <p>
            In my daily activities, I start, stop, restart and kill my
            <a
              href="http://www.oracle.com/technetwork/middleware/glassfish/overview/index.html"
              >Glassfish</a
            >
            server several times a day. In order to save me a few keystrokes and
            a few alt-tabbing, I created this small workflow allowing me to
            manage my local Glassfish instance.
          </p>

          <p>
            You can find the Alfred worfklow at the following url <a
              href="http://bit.ly/alfred-glassfish"
              >http://bit.ly/alfred-glassfish</a
            >. You will probably need to adapt the GF_PATH variable in the
            script to point to the root of your Glassfish installation.
          </p>

          <p>
            Once this small step is done, you'll end up with the following
            prompt in your Alfred :
          </p>

          <!-- [caption id="attachment_878" align="aligncenter" width="300"] --><img
            class="size-medium wp-image-878"
            alt="Alfred with Glassfish workflow enabled"
            src="/images/uploads/2013/03/alfredscreen.png"
            width="300"
            height="102"
          /><!--  Alfred with Glassfish workflow enabled[/caption] --><!--:--><!--:fr<img class="size-thumbnail wp-image-879 alignright" alt="alfred-icon" src="/images/uploads/2013/03/alfred-icon-150x150.jpg" width="150" height="150" />I recently bought the <a href="http://www.alfredapp.com/">Alfred.app</a> Powerpack. It is byfar the best application launcher / automation engine I've ever used. One of the new features of the second version of this application is user customizable workflows.
In my daily activities, I start, stop, restart and kill my <a href="http://www.oracle.com/technetwork/middleware/glassfish/overview/index.html">Glassfish</a> server several times a day. In order to save me a few keystrokes and a few alt-tabbing, I created this small workflow allowing me to manage my local Glassfish instance.

You can find the Alfred worfklow at the following url <a href="http://bit.ly/alfred-glassfish">http://bit.ly/alfred-glassfish</a>.
You will probably need to adapt the GF_PATH variable in the script to point to the root of your Glassfish installation.

Once this small step is done, you'll end up with the following prompt in your Alfred :

[caption id="attachment_878" align="aligncenter" width="300"]<img class="size-medium wp-image-878" alt="Alfred with Glassfish workflow enabled" src="/images/uploads/2013/03/Capture-d’écran-2013-03-19-à-09.53.20-300x102.png" width="300" height="102" /> Alfred with Glassfish workflow enabled[/caption]<-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2013-03-03T00:00:00+01:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/.wicket/work/wicket-6-cdi-on-heroku"
                  >March 03, 2013</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.wicket/work/wicket-6-cdi-on-heroku#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.wicket/work/wicket-6-cdi-on-heroku"
              rel="bookmark"
              title="Wicket 6 + CDI on Heroku"
              itemprop="url"
              >Wicket 6 + CDI on Heroku</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en-->
          <p>
            <img
              class="alignright size-full wp-image-865"
              alt="herokuwicket"
              src="/images/uploads/2013/03/herokuwicket.png"
              width="96"
              height="96"
            />As an <a href="http://apache.wicket.org">Apache Wicket</a> user
            for more than five years I really enjoy its programming model. I
            recently played with
            <a href="http://www.playframework.com/">Play Framework</a> 2.1 and
            Scala and discovered that deploying to
            <a href="http://www.heroku.com/">Heroku</a> is as easy as a git
            push. I wondered how difficult it could be using this mechanism to
            deploy a Wicket application.
          </p>
          <h1>Existing attempts</h1>
          <p>
            My initial investigation led me to this
            <a
              href="http://wicketinaction.com/2011/09/git-wicket-running-on-heroku/"
              >blog post from Martijn Dashorst</a
            > explaining how to deploy a Wicket 1.5 application to Heroku, the
            service has slightly evolved since and the quickstart no longer
            deploys (Maven repository is no longer available to the
            run environment).
          </p>
          <h1>Adding JPA in the mix</h1>
          <p>
            I adapted it to deploy and use Wicket 6 instead of 1.5. And as I am
            a CDI fan I completed the quickstart with the CDI Wicket module
            (inspired from
            <a
              href="https://www.42lines.net/2011/11/21/adding-jpahibernate-into-the-cdi-and-wicket-mix/"
              >this post from Igor Vaynberg</a
            >) and made the necessary steps to use the heroku bundled PostgreSQL
            database as a JPA datasource.
          </p>
          <p>
            The key to make the database works correctly on Heroku resides in
            the following code snippet, where we parse the provided environment
            variable to populate hibernate properties.
          </p>
          <figure class="highlight">
            <pre><code class="language-java" data-lang="java"><span></span>  <span class="k">try</span> <span class="o">{</span>
     <span class="n">URI</span> <span class="n">dbUri</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URI</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">getenv</span><span class="o">(</span><span class="s">&quot;DATABASE_URL&quot;</span><span class="o">));</span>
     <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">dbUri</span><span class="o">.</span><span class="na">getUserInfo</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">&quot;:&quot;</span><span class="o">)[</span><span class="mi">0</span><span class="o">];</span>
     <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">dbUri</span><span class="o">.</span><span class="na">getUserInfo</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">&quot;:&quot;</span><span class="o">)[</span><span class="mi">1</span><span class="o">];</span>
     <span class="n">String</span> <span class="n">dbUrl</span> <span class="o">=</span> <span class="s">&quot;jdbc:postgresql://&quot;</span> <span class="o">+</span> <span class="n">dbUri</span><span class="o">.</span><span class="na">getHost</span><span class="o">()</span> 
                    <span class="o">+</span> <span class="sc">&#39;:&#39;</span> <span class="o">+</span> <span class="n">dbUri</span><span class="o">.</span><span class="na">getPort</span><span class="o">()</span> <span class="o">+</span> <span class="n">dbUri</span><span class="o">.</span><span class="na">getPath</span><span class="o">();</span>
     <span class="n">System</span><span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;hibernate.connection.url&quot;</span><span class="o">,</span> <span class="n">dbUrl</span><span class="o">);</span>
     <span class="n">System</span><span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;hibernate.connection.user&quot;</span><span class="o">,</span> <span class="n">username</span><span class="o">);</span>
     <span class="n">System</span><span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;hibernate.connection.password&quot;</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">LOGGER</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="s">&quot;Unable to extract database url&quot;</span><span class="o">);</span>
<span class="o">}</span></code></pre>
          </figure>
          <h1>Session replication</h1>
          <p>
            On Wicket mailing lists,
            <a
              href="http://mail-archives.apache.org/mod_mbox/wicket-users/201301.mbox/%3C20130109180456.21633f6d4d230ce5688fd451@gmx.net%3E"
              >a user recently asked</a
            >
            the steps required to get the data store works correctly on Heroku
            (as the disk space is ephemeral), the key is using a NoSQL backend
            like <a href="http://redis.io/">Redis</a>. So I wrote a simple and
            basic implementation of IDataStore using Redis (I think it can be
            optimized by someone familiar with Redis, pull requests are
            welcome).
          </p>
          <h1>Hands on</h1>
          <p>
            The quickstart can be found
            <a href="https://github.com/CedricGatay/heroku-wicket-quickstart"
              >at the following address</a
            >
            and deploys fine on a stack with
            <a href="http://redis-cloud.com/">Redis Cloud</a> and PostgreSQL add
            ons enabled.<br />
            In the end you got :
          </p>
          <ul>
            <li>Wicket 6</li>
            <li>CDI via Weld</li>
            <li>JPA with PostgreSQL</li>
            <li>Redis datastore</li>
          </ul>
          <p>
            You can see it live at the following address : <a
              href="http://wicket-6-sample.herokuapp.com/"
              >http://wicket-6-sample.herokuapp.com/</a
            >, the app can take a few seconds to start, as Heroku will stop it
            if it is idling for too long.
          </p>
          <!--:--><!--:fr<p><img class="alignright size-full wp-image-865" alt="herokuwicket" src="/images/uploads/2013/03/herokuwicket.png" width="96" height="96" />As an <a href="http://apache.wicket.org">Apache Wicket</a> user for more than five years I really enjoy its programming model. I recently played with <a href="http://www.playframework.com/">Play Framework</a> 2.1 and Scala and discovered that deploying to <a href="http://www.heroku.com/">Heroku</a> is as easy as a git push. I wondered how difficult it could be using this mechanism to deploy a Wicket application.</p><h1>Existing attempts</h1><p>My initial investigation led me to this <a href="http://wicketinaction.com/2011/09/git-wicket-running-on-heroku/">blog post from Martijn Dashorst</a> explaining how to deploy a Wicket 1.5 application to Heroku, the service has slightly evolved since and the quickstart no longer deploys (Maven repository is no longer available to the run environment).</p><h1>Adding JPA in the mix</h1><p>I adapted it to deploy and use Wicket 6 instead of 1.5. And as I am a CDI fan I completed the quickstart with the CDI Wicket module (inspired from <a href="https://www.42lines.net/2011/11/21/adding-jpahibernate-into-the-cdi-and-wicket-mix/">this post from Igor Vaynberg</a>) and made the necessary steps to use the heroku bundled PostgreSQL database as a JPA datasource.</p><p>The key to make the database works correctly on Heroku resides in the following code snippet, where we parse the provided environment variable to populate hibernate properties.</p><pre class="brush: java">try {
     URI dbUri = new URI(System.getenv("DATABASE_URL"));
     String username = dbUri.getUserInfo().split(":")[0];
     String password = dbUri.getUserInfo().split(":")[1];
     String dbUrl = "jdbc:postgresql://" + dbUri.getHost() 
                    + ':' + dbUri.getPort() + dbUri.getPath();
     System.setProperty("hibernate.connection.url", dbUrl);
     System.setProperty("hibernate.connection.user", username);
     System.setProperty("hibernate.connection.password", password);
} catch (Exception e) {
     LOGGER.error("Unable to extract database url");
}</pre><h1>Session replication</h1><p>On Wicket mailing lists, <a href="http://mail-archives.apache.org/mod_mbox/wicket-users/201301.mbox/%3C20130109180456.21633f6d4d230ce5688fd451@gmx.net%3E">a user recently asked</a> the steps required to get the data store works correctly on Heroku (as the disk space is ephemeral), the key is using a NoSQL backend like <a href="http://redis.io/">Redis</a>. So I wrote a simple and basic implementation of IDataStore using Redis (I think it can be optimized by someone familiar with Redis, pull requests are welcome).</p><h1>Hands on</h1><p>The quickstart can be found <a href="https://github.com/CedricGatay/heroku-wicket-quickstart">at the following address</a> and deploys fine on a stack with <a href="http://redis-cloud.com/">Redis Cloud</a> and PostgreSQL add ons enabled.<br /> In the end you got :</p><ul><li>Wicket 6</li><li>CDI via Weld</li><li>JPA with PostgreSQL</li><li>Redis datastore</li></ul><p>You can see it live at the following address : <a href="http://wicket-6-sample.herokuapp.com/">http://wicket-6-sample.herokuapp.com/</a>, the app can take a few seconds to start, as Heroku will stop it if it is idling for too long.</p><-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <div class="pagination">
        <a href="http://www.bloggure.info/page5" class="btn">Previous</a>

        <ul class="inline-list">
          <li>
            <a href="http://www.bloggure.info/">1</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page2">2</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page3">3</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page4">4</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page5">5</a>
          </li>

          <li>
            <span class="current-page">6</span>
          </li>

          <li>
            <a href="http://www.bloggure.info/page7">7</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page8">8</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page9">9</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page10">10</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page11">11</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page12">12</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page13">13</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page14">14</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page15">15</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page16">16</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page17">17</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page18">18</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page19">19</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page20">20</a>
          </li>
        </ul>

        <a href="http://www.bloggure.info/page7" class="btn">Next</a>
      </div>
    </div>
    <!-- /#main -->

    <div class="footer-wrapper">
      <footer role="contentinfo">
        <span
          >&copy; 2021 . Powered by
          <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using a theme
          based on
          <a
            href="https://mademistakes.com/work/hpstr-jekyll-theme/"
            rel="nofollow"
            >HPSTR</a
          >.</span
        >
      </footer>
    </div>
    <!-- /.footer-wrapper -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="http://www.bloggure.info/assets/js/vendor/jquery-1.9.1.min.js"><\/script>'
        );
    </script>
    <script src="http://www.bloggure.info/assets/js/scripts.min.js"></script>

    <!-- Asynchronous Google Analytics snippet -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "//www.google-analytics.com/analytics.js",
        "ga"
      );

      ga("create", "UA-11718843-3", "auto");
      ga("require", "linkid", "linkid.js");
      ga("send", "pageview");
    </script>

    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = "thereisnoplacelike1"; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var dsq = document.createElement("script");
        dsq.type = "text/javascript";
        dsq.async = true;
        dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
        (
          document.getElementsByTagName("head")[0] ||
          document.getElementsByTagName("body")[0]
        ).appendChild(dsq);
      })();

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var s = document.createElement("script");
        s.async = true;
        s.type = "text/javascript";
        s.src = "//" + disqus_shortname + ".disqus.com/count.js";
        (
          document.getElementsByTagName("HEAD")[0] ||
          document.getElementsByTagName("BODY")[0]
        ).appendChild(s);
      })();
    </script>
    <noscript
      >Please enable JavaScript to view the
      <a href="http://disqus.com/?ref_noscript"
        >comments powered by Disqus.</a
      ></noscript
    >
    <a href="http://disqus.com" class="dsq-brlink"
      >comments powered by <span class="logo-disqus">Disqus</span></a
    >
  </body>
</html>
