<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>
      Use Wicket templating system to generate Html &#8211; Bloggure | There is
      no place like ::1
    </title>
    <meta
      name="description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta name="keywords" content="" />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta
      property="og:title"
      content="Use Wicket templating system to generate Html"
    />
    <meta
      property="og:description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta
      property="og:url"
      content="http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
    />
    <meta
      property="og:site_name"
      content="Bloggure | There is no place like ::1"
    />

    <link
      rel="canonical"
      href="http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
    />
    <link
      href="http://www.bloggure.info/feed.xml"
      type="application/atom+xml"
      rel="alternate"
      title="Bloggure | There is no place like ::1 Feed"
    />

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- For all browsers -->
    <link
      rel="stylesheet"
      href="http://www.bloggure.info/assets/css/main.min.css"
    />
    <!-- Webfonts -->
    <link
      href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic"
      rel="stylesheet"
      type="text/css"
    />

    <meta http-equiv="cleartype" content="on" />

    <!-- Load Modernizr -->
    <script src="http://www.bloggure.info/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.ico" />
    <!-- 32x32 -->
    <!-- <link rel="shortcut icon" href="http://www.bloggure.info/favicon.png"> -->
    <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.bloggure.info/images/apple-touch-icon-precomposed.png"
    />
    <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="http://www.bloggure.info/images/apple-touch-icon-72x72-precomposed.png"
    />
    <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="http://www.bloggure.info/images/apple-touch-icon-114x114-precomposed.png"
    />
    <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://www.bloggure.info/images/apple-touch-icon-144x144-precomposed.png"
    />
  </head>

  <body id="post-index" itemscope itemtype="http://schema.org/WebPage">
    <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
    <div class="meny">
      <nav
        role="navigation"
        itemscope
        itemtype="http://schema.org/SiteNavigationElement"
      >
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archive/">All Posts</a></li>
          <li><a href="/tags/">All Tags</a></li>
        </ul>
        <!-- /.dl-menu -->
      </nav>
      <!-- /.dl-menuwrapper -->
    </div>
    <!--<div class="meny-arrow"></div>-->

    <div class="content">
      <header class="header-title">
        <div class="header-title-wrap">
          <h1 class="entry-title" itemprop="name">
            <a href="http://www.bloggure.info/">Bloggure</a>
          </h1>
        </div>
        <!-- /.header-title-wrap -->
      </header>
      <div
        id="main"
        role="main"
        itemprop="mainContentOfPage"
        itemscope
        itemtype="http://schema.org/Blog"
      >
        <article
          class="hentry"
          itemprop="blogPost"
          itemscope
          itemtype="http://schema.org/BlogPosting"
        >
          <header>
            <div class="entry-meta">
              <span class="entry-date date published updated"
                ><time
                  datetime="2013-01-20T00:00:00+01:00"
                  itemprop="datePublished"
                  ><a
                    href="http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
                    >January 20, 2013</a
                  ></time
                ></span
              ><span
                class="author vcard"
                itemprop="author"
                itemscope
                itemtype="http://schema.org/Person"
                ><span itemprop="name" class="fn"
                  ><a
                    href="http://www.bloggure.info/cgatay"
                    title="About cgatay"
                    itemprop="url"
                    >cgatay</a
                  ></span
                ></span
              >
            </div>
            <!-- /.entry-meta -->

            <h1 class="entry-title" itemprop="name">
              <a
                href="http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
                rel="bookmark"
                title="Use Wicket templating system to generate Html"
                itemprop="url"
                >Use Wicket templating system to generate Html</a
              >
            </h1>
          </header>
          <div class="entry-content" itemprop="description">
            <p>
              <img
                src="/images/uploads/2013/01/html-icon.png"
                alt="html-icon"
                width="128"
                height="128"
                class="alignright size-full wp-image-844"
              /><a href="http://wicket.apache.org">Apache Wicket</a> is a great
              web framework, its clear separation between logic and markup
              allows to focus on what's need to be done. <br />
              As we use Wicket at
              <a href="https://www.srmvision.com">SRMvision</a>, we needed to
              send mails with rather rich templates to our users. The first
              implementation we used was relying on Wicket to generate these
              templates using Html. We finally don't use it (our mailing tasks
              are done by a background job, thus we don't have access to our
              webapp), but I though the code used in our fast proof of concept
              could help someone else.
            </p>

            <figure class="highlight">
              <pre><code class="language-java" data-lang="java"><span></span><span class="kn">import</span> <span class="nn">org.apache.wicket.markup.MarkupType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.wicket.markup.html.WebMarkupContainer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.wicket.markup.html.basic.Label</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.wicket.markup.html.panel.Panel</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.wicket.markup.repeater.RepeatingView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.wicket.model.PropertyModel</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.wicket.request.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.wicket.response.StringResponse</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.slf4j.LoggerFactory</span><span class="o">;</span>


<span class="cm">/**</span>
<span class="cm"> * Simple panel allowing to use the templating engine </span>
<span class="cm"> *    provided by Wicket to generate HTML.</span>
<span class="cm"> * Typical use would be to generate mail content.</span>
<span class="cm"> *</span>
<span class="cm"> * User of this class will need to subclass it </span>
<span class="cm"> *    and create a panel as usual. </span>
<span class="cm"> * Then a call to getHtml() will return the generated Html.</span>
<span class="cm"> *</span>
<span class="cm"> * @author cedric at gatay.fr</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HtmlTemplaterPanel</span> <span class="kd">extends</span> <span class="n">Panel</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">LOGGER</span> <span class="o">=</span> 
        <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">HtmlTemplaterPanel</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="cm">/**</span>
<span class="cm">     * Default constructor takes no wicket:id &gt; </span>
<span class="cm">     *   the panel will not be added to any component</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="nf">HtmlTemplaterPanel</span><span class="o">(){</span>
        <span class="kd">super</span><span class="o">(</span><span class="s">&quot;dummy&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Call this whenever you want to get</span>
<span class="cm">     *   the Html for this component</span>
<span class="cm">     * @return Html or empty string</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getHtml</span><span class="o">(){</span>
        <span class="kd">final</span> <span class="n">Response</span> <span class="n">origResponse</span> <span class="o">=</span> <span class="n">getRequestCycle</span><span class="o">().</span><span class="na">getResponse</span><span class="o">();</span>
        <span class="k">try</span><span class="o">{</span>
            <span class="kd">final</span> <span class="n">StringResponse</span> <span class="n">stringResponse</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringResponse</span><span class="o">();</span>
            <span class="n">getRequestCycle</span><span class="o">().</span><span class="na">setResponse</span><span class="o">(</span><span class="n">stringResponse</span><span class="o">);</span>
            <span class="n">renderAssociatedMarkup</span><span class="o">(</span><span class="s">&quot;panel&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">stringResponse</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="s">&quot;Unable to build HTML for panel : {}&quot;</span><span class="o">,</span>
                         <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span><span class="k">finally</span><span class="o">{</span>
            <span class="n">getRequestCycle</span><span class="o">().</span><span class="na">setResponse</span><span class="o">(</span><span class="n">origResponse</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">getStatelessHint</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">MarkupType</span> <span class="nf">getMarkupType</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">MarkupType</span><span class="o">.</span><span class="na">HTML_MARKUP_TYPE</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
            </figure>
            <p>
              If you want to generate a template using Apache Wicket, you only
              need to create a Panel and its associated markup which inherits
              this simple class. Then, when you want to get the Html for your
              component, call <code>getHtml()</code>.<br />
              The only drawback of this is that you need a RequestCycle to
              generate the markup (you'll find out why reading the code).
            </p>

            <footer class="entry-meta">
              <span class="entry-tags"></span>
              <span
                ><a
                  href="http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
                  rel="bookmark"
                  title="Use Wicket templating system to generate Html"
                  itemprop="url"
                  >Use Wicket templating system to generate Html</a
                ></span
              >
              was published on
              <span class="entry-date date published updated"
                ><time
                  datetime="2013-01-20T00:00:00+01:00"
                  itemprop="datePublished"
                  >January 20, 2013</time
                ></span
              >

              <span
                class="author vcard"
                itemprop="author"
                itemscope
                itemtype="http://schema.org/Person"
                ><span itemprop="name" class="fn"
                  ><a
                    href="http://www.bloggure.info/cgatay"
                    title="About cgatay"
                    itemprop="url"
                    >cgatay</a
                  ></span
                ></span
              >
              <div class="social-share">
                <ul
                  class="socialcount socialcount-small inline-list"
                  data-url="http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
                  data-share-text="Use Wicket templating system to generate Html"
                >
                  <li class="facebook">
                    <a
                      href="https://www.facebook.com/sharer/sharer.php?u=http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
                      title="Share on Facebook"
                      ><span class="count"
                        ><i class="icon-facebook-sign"></i> Like</span
                      ></a
                    >
                  </li>
                  <li class="twitter">
                    <a
                      href="https://twitter.com/intent/tweet?text=http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
                      title="Share on Twitter"
                      ><span class="count"
                        ><i class="icon-twitter-sign"></i> Tweet</span
                      ></a
                    >
                  </li>
                  <li class="googleplus">
                    <a
                      href="https://plus.google.com/share?url=http://www.bloggure.info/work/java-work/use-wicket-templating-system-to-generate-html.html"
                      title="Share on Google Plus"
                      ><span class="count"
                        ><i class="icon-google-plus-sign"></i> +1</span
                      ></a
                    >
                  </li>
                </ul>
              </div>
              <!-- /.social-share -->
            </footer>
          </div>
          <!-- /.entry-content -->
        </article>
      </div>
      <!-- /#main -->

      <div class="read-more">
        <div class="read-more-header">
          <a
            href="http://www.bloggure.info/thoughts/de-free-a-numericable"
            class="read-more-btn"
            >Read More</a
          >
        </div>
        <!-- /.read-more-header -->
        <div class="read-more-content">
          <h3>
            <a
              href="http://www.bloggure.info/XCodeUnitTestInheritance"
              title="XCode unit test and inheritance"
              >XCode unit test and inheritance</a
            >
          </h3>
          <p>
            As I was working on an iOS project, I added unit tests to ensure
            things are not behaving badly (and will not).During the process, a
            commo...&hellip;
            <a href="http://www.bloggure.info/XCodeUnitTestInheritance"
              >Continue reading</a
            >
          </p>
        </div>
        <!-- /.read-more-content -->

        <div class="read-more-list">
          <div class="list-item">
            <h4>
              <a
                href="http://www.bloggure.info/Revival"
                title="Bloggure revival"
                >Bloggure revival</a
              >
            </h4>
            <span>Published on December 01, 2020</span>
          </div>
          <!-- /.list-item -->

          <div class="list-item">
            <h4>
              <a
                href="http://www.bloggure.info/redsocks-avoid-docker-proxy-headaches"
                title="Avoid Proxy Headaches in Docker with redsocks"
                >Avoid Proxy Headaches in Docker with redsocks</a
              >
            </h4>
            <span>Published on November 16, 2015</span>
          </div>
          <!-- /.list-item -->
        </div>
        <!-- /.read-more-list -->
      </div>
      <!-- /.read-more -->

      <div class="footer-wrapper">
        <footer role="contentinfo">
          <span
            >&copy; 2020 . Powered by
            <a href="http://jekyllrb.com">Jekyll</a> using a theme based on
            <a href="http://mademistakes.com/">HPSTR</a>.</span
          >
        </footer>
      </div>
      <!-- /.footer-wrapper -->
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="http://www.bloggure.info/assets/js/vendor/jquery-1.9.1.min.js"><\/script>'
        );
    </script>
    <script src="http://www.bloggure.info/assets/js/scripts.min.js"></script>

    <!-- Asynchronous Google Analytics snippet -->
    <script>
      var _gaq = _gaq || [];
      var pluginUrl = "//www.google-analytics.com/plugins/ga/inpage_linkid.js";
      _gaq.push(["_require", "inpage_linkid", pluginUrl]);
      _gaq.push(["_setAccount", "UA-11718843-3"]);
      _gaq.push(["_trackPageview"]);

      (function () {
        var ga = document.createElement("script");
        ga.type = "text/javascript";
        ga.async = true;
        ga.src =
          ("https:" == document.location.protocol
            ? "https://ssl"
            : "http://www") + ".google-analytics.com/ga.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
