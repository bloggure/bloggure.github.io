<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>
      Wicket 1.4.x - TinyMCE &#8211; Bloggure | There is no place like ::1
    </title>
    <meta
      name="description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta name="keywords" content="java, javascript, tinymce, wicket" />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Wicket 1.4.x - TinyMCE" />
    <meta
      property="og:description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta
      property="og:url"
      content="http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
    />
    <meta
      property="og:site_name"
      content="Bloggure | There is no place like ::1"
    />

    <link
      rel="canonical"
      href="http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
    />
    <link
      href="http://www.bloggure.info/feed.xml"
      type="application/atom+xml"
      rel="alternate"
      title="Bloggure | There is no place like ::1 Feed"
    />

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- For all browsers -->
    <link
      rel="stylesheet"
      href="http://www.bloggure.info/assets/css/main.min.css"
    />
    <!-- Webfonts -->
    <link
      href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic"
      rel="stylesheet"
      type="text/css"
    />

    <meta http-equiv="cleartype" content="on" />

    <!-- Load Modernizr -->
    <script src="http://www.bloggure.info/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.ico" />
    <!-- 32x32 -->
    <!-- <link rel="shortcut icon" href="http://www.bloggure.info/favicon.png"> -->
    <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.bloggure.info/images/apple-touch-icon-precomposed.png"
    />
    <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="http://www.bloggure.info/images/apple-touch-icon-72x72-precomposed.png"
    />
    <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="http://www.bloggure.info/images/apple-touch-icon-114x114-precomposed.png"
    />
    <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://www.bloggure.info/images/apple-touch-icon-144x144-precomposed.png"
    />
  </head>

  <body id="post-index" itemscope itemtype="http://schema.org/WebPage">
    <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
    <div class="meny">
      <nav
        role="navigation"
        itemscope
        itemtype="http://schema.org/SiteNavigationElement"
      >
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archive/">All Posts</a></li>
          <li><a href="/tags/">All Tags</a></li>
        </ul>
        <!-- /.dl-menu -->
      </nav>
      <!-- /.dl-menuwrapper -->
    </div>
    <!--<div class="meny-arrow"></div>-->

    <div class="content">
      <header class="header-title">
        <div class="header-title-wrap">
          <h1 class="entry-title" itemprop="name">
            <a href="http://www.bloggure.info/">Bloggure</a>
          </h1>
        </div>
        <!-- /.header-title-wrap -->
      </header>
      <div
        id="main"
        role="main"
        itemprop="mainContentOfPage"
        itemscope
        itemtype="http://schema.org/Blog"
      >
        <article
          class="hentry"
          itemprop="blogPost"
          itemscope
          itemtype="http://schema.org/BlogPosting"
        >
          <header>
            <div class="entry-meta">
              <span class="entry-date date published updated"
                ><time
                  datetime="2010-10-24T00:00:00+02:00"
                  itemprop="datePublished"
                  ><a
                    href="http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
                    >October 24, 2010</a
                  ></time
                ></span
              ><span
                class="author vcard"
                itemprop="author"
                itemscope
                itemtype="http://schema.org/Person"
                ><span itemprop="name" class="fn"
                  ><a
                    href="http://www.bloggure.info/cgatay"
                    title="About cgatay"
                    itemprop="url"
                    >cgatay</a
                  ></span
                ></span
              >&nbsp; &bull; &nbsp;<span class="entry-comments"
                ><a
                  href="http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce/#disqus_thread"
                  >Comment</a
                ></span
              >
            </div>
            <!-- /.entry-meta -->

            <h1 class="entry-title" itemprop="name">
              <a
                href="http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
                rel="bookmark"
                title="Wicket 1.4.x - TinyMCE"
                itemprop="url"
                >Wicket 1.4.x - TinyMCE</a
              >
            </h1>
          </header>
          <div class="entry-content" itemprop="description">
            <!--:en--><img
              class="alignleft size-full wp-image-90"
              title="Wicket"
              src="/images/uploads/2010/10/logo-wicket1.png"
              alt=""
              width="120"
              height="119"
            />Heya all,

            <p>
              I am trying to revive this blog from a long period of sleep. Let's
              start today with a little Java trick I made to have a working
              TinyMCE implementation using Wicket (tested over 1.4.9 and 1.4.13
              in my case but I think it should work for any 1.4.x at least,
              please report successful attempts under other releases).
            </p>

            <p>
              For newcomers,
              <a href="http://tinymce.moxiecode.com/" target="_blank"
                >TinyMCE</a
              >
              is a really powerful WYSIWYG editor written entirely in
              Javascript, it features plugin and theme ability in order to be
              THE editor to use in your projects.
              <a href="http://wicket.apache.org/" target="_blank"
                >Apache Wicket</a
              >
              is a really powerful web framework based on Java EE specs (I think
              I'll talk a lot about Wicket in here...).
            </p>

            <p>
              An implementation of TinyMCE for Wicket exists, it'll be the first
              result you get when you ask your old pal G***** a hand. But, this
              implementation is a bit tricky to find (outdated links everywhere)
              and not feature complete (or not fully complete), as I explain in
              the read more part...
            </p>

            <!--more-->

            <p>
              You can checkout latest almost working release from
              <a
                href="https://wicket-stuff.svn.sourceforge.net/svnroot/wicket-stuff/releases/wicketstuff-core-1.4-rc7/tinymce-parent"
                target="_blank"
                >there</a
              >
              by using the following command line :

              <figure class="highlight">
                <pre><code class="language-bash" data-lang="bash"><span></span>svn co https://wicket-stuff.svn.sourceforge.net/svnroot/wicket-stuff/releases/wicketstuff-core-1.4-rc7/tinymce-parent</code></pre>
              </figure>
            </p>

            <p>
              Let me explain what problem I encountered, it happens only on
              isolated cases (ajax pushing the whole WYSIWYG shebang on a page
              without that mess). TinyMCE is then lost, and the only output you
              get when you try to call init() is
              <code>tinyMCE is undefined</code> on your Javascript console. My
              first thought was to replace the outdated version bundled
              (3.1.0.1), so I headed to TinyMCE's website , downloaded latest
              version so far (3.3.9.2) and replaced it in my workspace. A try
              later and no luck, the problem is still here.
            </p>

            <p>
              What's happening, why on hell this working component don't want to
              work anymore ? By digging into TinyMCE's code, you'll find that it
              looks for its baseURL, for lazy loading stuffs (depending on what
              you use), but Wicket responds to Ajax Â headers contribution in a
              special way : instead of appending regular
              <code
                >&lt;script type='text/javascript'
                src='myurltomyfile.js'&gt;&lt;/script&gt;</code
              >
              it appends
              <code
                >&lt;script type='text/javascript'
                src_='myurltomyfile.js'&gt;[content of
                myurltomyfile.js]&lt;/script&gt;</code
              >
              to the body of the document.
            </p>

            <p>
              This particular way of answering to browser is not well handled by
              TinyMCE, which looks up its baseURL by parsing script tags present
              in the DOM. The hack to circumvent this is really simple, make
              TinyMCE find its baseURL by reacting on src_ attributes. The
              following listing shows the patch in
              <code>tiny_mce_src.js</code> on the <code>getBase(n)</code>method
              :
            </p>

            <figure class="highlight">
              <pre><code class="language-js" data-lang="js"><span></span><span class="lineno"> 1 </span><span class="kd">function</span> <span class="nx">getBase</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 2 </span>    <span class="kd">var</span> <span class="nx">src_</span> <span class="o">=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="nx">src_</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;);</span>
<span class="lineno"> 3 </span>    <span class="k">if</span> <span class="p">(</span><span class="nx">src_</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 4 </span>        <span class="nx">n</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">src_</span><span class="p">;</span>
<span class="lineno"> 5 </span>    <span class="p">}</span>
<span class="lineno"> 6 </span>   <span class="k">if</span> <span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">src</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="sr">/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="p">))</span> <span class="p">{</span>
<span class="lineno"> 7 </span>        <span class="k">if</span> <span class="p">(</span><span class="sr">/_(src|dev)\.js/g</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="p">))</span> <span class="p">{</span>
<span class="lineno"> 8 </span>            <span class="nx">t</span><span class="p">.</span><span class="nx">suffix</span> <span class="o">=</span> <span class="s1">&#39;_src&#39;</span><span class="p">;</span>
<span class="lineno"> 9 </span>        <span class="p">}</span>
<span class="lineno">10 </span>        <span class="k">if</span> <span class="p">((</span><span class="nx">p</span> <span class="o">=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">11 </span>            <span class="nx">t</span><span class="p">.</span><span class="nx">query</span> <span class="o">=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">p</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="lineno">12 </span>        <span class="p">}</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span>        <span class="nx">t</span><span class="p">.</span><span class="nx">baseURL</span> <span class="o">=</span> <span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">));</span>
<span class="lineno">15 </span>
<span class="lineno">16 </span>        <span class="c1">// If path to script is relative and a base href was found add that one infront</span>
<span class="lineno">17 </span>        <span class="c1">// the src property will always be an absolute one on non IE browsers and IE 8</span>
<span class="lineno">18 </span>        <span class="c1">// so this logic will basically only be executed on older IE versions</span>
<span class="lineno">19 </span>        <span class="k">if</span> <span class="p">(</span><span class="nx">base</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">t</span><span class="p">.</span><span class="nx">baseURL</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;://&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">t</span><span class="p">.</span><span class="nx">baseURL</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">20 </span>            <span class="nx">t</span><span class="p">.</span><span class="nx">baseURL</span> <span class="o">=</span> <span class="nx">base</span> <span class="o">+</span> <span class="nx">t</span><span class="p">.</span><span class="nx">baseURL</span><span class="p">;</span>
<span class="lineno">21 </span>        <span class="p">}</span>
<span class="lineno">22 </span>        <span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">baseURL</span><span class="p">;</span>
<span class="lineno">23 </span>  <span class="p">}</span>
<span class="lineno">24 </span>  <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="lineno">25 </span><span class="p">}</span></code></pre>
            </figure>

            <p>
              With this hack, console error yelling
              <code>tinyMCE is undefined</code> is gone. No more error but the
              editor still does not work, TinyMCE waits for the document to be
              ready before calling its render phase. Let's fake it by flagging
              when we're coming from a Wicket Ajax request. We simply add an
              attribute to tinyMCE object : in the <code>_init()</code> method
            </p>

            <figure class="highlight">
              <pre><code class="language-js" data-lang="js"><span></span><span class="nx">t</span><span class="p">.</span><span class="nx">isAjax</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span></code></pre>
            </figure>

            <p>
              We flag in the <code>getBase(n)</code> when we come from Wicket
              Ajax (when we get something like
              <code>&lt;script src_=""&gt;&lt;/script&gt;</code>)
            </p>

            <figure class="highlight">
              <pre><code class="language-js" data-lang="js"><span></span><span class="lineno">1 </span><span class="k">if</span> <span class="p">(</span><span class="nx">src_</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">2 </span>    <span class="nx">t</span><span class="p">.</span><span class="nx">isAjax</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="lineno">3 </span>    <span class="nx">n</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">src_</span><span class="p">;</span>
<span class="lineno">4 </span><span class="p">}</span></code></pre>
            </figure>

            <p>
              and we set the <code>domLoaded</code> flag to the newly introduced
              attribute at the end of the JavaScript file :
            </p>

            <figure class="highlight">
              <pre><code class="language-js" data-lang="js"><span></span><span class="nx">tinymce</span><span class="p">.</span><span class="nx">dom</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">domLoaded</span> <span class="o">=</span> <span class="nx">tinymce</span><span class="p">.</span><span class="nx">isAjax</span><span class="p">;</span></code></pre>
            </figure>

            <p>
              This way, TinyMCE calls its render phase directly when we call
              <code>init()</code> on tinyMCE object. This call is done by Wicket
              when the dom is ready and then we finally got TinyMCE working even
              when coming from an ajax javascript inclusion. The only thing you
              need to do in order for this to work in deployment mode is to
              compress tiny_mce_src.js to tiny_mce.js with this patch.
            </p>

            <p>
              You can find the resulting <code>tiny_mce_src.js</code>
              <a href="http://gist.github.com/643272">here</a>
            </p>
            .
            <footer class="entry-meta">
              <span class="entry-tags"
                ><a
                  href="http://www.bloggure.info/tags/index.html#java"
                  title="Pages tagged java"
                  rel="tag"
                  class="tag"
                  >java</a
                ><a
                  href="http://www.bloggure.info/tags/index.html#javascript"
                  title="Pages tagged javascript"
                  rel="tag"
                  class="tag"
                  >javascript</a
                ><a
                  href="http://www.bloggure.info/tags/index.html#tinymce"
                  title="Pages tagged tinymce"
                  rel="tag"
                  class="tag"
                  >tinymce</a
                ><a
                  href="http://www.bloggure.info/tags/index.html#wicket"
                  title="Pages tagged wicket"
                  rel="tag"
                  class="tag"
                  >wicket</a
                ></span
              >
              <span
                ><a
                  href="http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
                  rel="bookmark"
                  title="Wicket 1.4.x - TinyMCE"
                  itemprop="url"
                  >Wicket 1.4.x - TinyMCE</a
                ></span
              >
              was published on
              <span class="entry-date date published updated"
                ><time
                  datetime="2010-10-24T00:00:00+02:00"
                  itemprop="datePublished"
                  >October 24, 2010</time
                ></span
              >

              <span
                class="author vcard"
                itemprop="author"
                itemscope
                itemtype="http://schema.org/Person"
                ><span itemprop="name" class="fn"
                  ><a
                    href="http://www.bloggure.info/cgatay"
                    title="About cgatay"
                    itemprop="url"
                    >cgatay</a
                  ></span
                ></span
              >
              <div class="social-share">
                <ul
                  class="socialcount socialcount-small inline-list"
                  data-url="http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
                  data-share-text="Wicket 1.4.x - TinyMCE"
                >
                  <li class="facebook">
                    <a
                      href="https://www.facebook.com/sharer/sharer.php?u=http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
                      title="Share on Facebook"
                      ><span class="count"
                        ><i class="icon-facebook-sign"></i> Like</span
                      ></a
                    >
                  </li>
                  <li class="twitter">
                    <a
                      href="https://twitter.com/intent/tweet?text=http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
                      title="Share on Twitter"
                      ><span class="count"
                        ><i class="icon-twitter-sign"></i> Tweet</span
                      ></a
                    >
                  </li>
                  <li class="googleplus">
                    <a
                      href="https://plus.google.com/share?url=http://www.bloggure.info/.wicket/wicket-1-4-9-tinymce"
                      title="Share on Google Plus"
                      ><span class="count"
                        ><i class="icon-google-plus-sign"></i> +1</span
                      ></a
                    >
                  </li>
                </ul>
              </div>
              <!-- /.social-share -->
            </footer>
          </div>
          <!-- /.entry-content -->
          <section id="disqus_thread"></section>
          <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = "thereisnoplacelike1"; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
              var dsq = document.createElement("script");
              dsq.type = "text/javascript";
              dsq.async = true;
              dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
              (
                document.getElementsByTagName("head")[0] ||
                document.getElementsByTagName("body")[0]
              ).appendChild(dsq);
            })();

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
              var s = document.createElement("script");
              s.async = true;
              s.type = "text/javascript";
              s.src = "//" + disqus_shortname + ".disqus.com/count.js";
              (
                document.getElementsByTagName("HEAD")[0] ||
                document.getElementsByTagName("BODY")[0]
              ).appendChild(s);
            })();
          </script>
          <noscript
            >Please enable JavaScript to view the
            <a href="http://disqus.com/?ref_noscript"
              >comments powered by Disqus.</a
            ></noscript
          >
          <a href="http://disqus.com" class="dsq-brlink"
            >comments powered by <span class="logo-disqus">Disqus</span></a
          ><!-- /#disqus_thread -->
        </article>
      </div>
      <!-- /#main -->

      <div class="read-more">
        <div class="read-more-header">
          <a href="http://www.bloggure.info" class="read-more-btn">Read More</a>
        </div>
        <!-- /.read-more-header -->
        <div class="read-more-content">
          <h3>
            <a href="http://www.bloggure.info/Revival" title="Bloggure revival"
              >Bloggure revival</a
            >
          </h3>
          <p>
            # It's been a long timeIt's been a very long time since last post (5
            years...).I am convinced that blogging is useful, at least for my
            pr...&hellip;
            <a href="http://www.bloggure.info/Revival">Continue reading</a>
          </p>
        </div>
        <!-- /.read-more-content -->

        <div class="read-more-list">
          <div class="list-item">
            <h4>
              <a
                href="http://www.bloggure.info/redsocks-avoid-docker-proxy-headaches"
                title="Avoid Proxy Headaches in Docker with redsocks"
                >Avoid Proxy Headaches in Docker with redsocks</a
              >
            </h4>
            <span>Published on November 16, 2015</span>
          </div>
          <!-- /.list-item -->

          <div class="list-item">
            <h4>
              <a
                href="http://www.bloggure.info/faster-ssh-multi-hop"
                title="Faster ssh multi hop"
                >Faster ssh multi hop</a
              >
            </h4>
            <span>Published on September 07, 2015</span>
          </div>
          <!-- /.list-item -->
        </div>
        <!-- /.read-more-list -->
      </div>
      <!-- /.read-more -->

      <div class="footer-wrapper">
        <footer role="contentinfo">
          <span
            >&copy; 2020 . Powered by
            <a href="http://jekyllrb.com">Jekyll</a> using a theme based on
            <a href="http://mademistakes.com/">HPSTR</a>.</span
          >
        </footer>
      </div>
      <!-- /.footer-wrapper -->
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="http://www.bloggure.info/assets/js/vendor/jquery-1.9.1.min.js"><\/script>'
        );
    </script>
    <script src="http://www.bloggure.info/assets/js/scripts.min.js"></script>

    <!-- Asynchronous Google Analytics snippet -->
    <script>
      var _gaq = _gaq || [];
      var pluginUrl = "//www.google-analytics.com/plugins/ga/inpage_linkid.js";
      _gaq.push(["_require", "inpage_linkid", pluginUrl]);
      _gaq.push(["_setAccount", "UA-11718843-3"]);
      _gaq.push(["_trackPageview"]);

      (function () {
        var ga = document.createElement("script");
        ga.type = "text/javascript";
        ga.async = true;
        ga.src =
          ("https:" == document.location.protocol
            ? "https://ssl"
            : "http://www") + ".google-analytics.com/ga.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
