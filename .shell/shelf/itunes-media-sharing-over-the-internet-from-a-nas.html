<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>
      iTunes media sharing over the Internet from a NAS &#8211; Bloggure
    </title>
    <meta
      name="description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta name="keywords" content="" />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta
      property="og:title"
      content="iTunes media sharing over the Internet from a NAS"
    />
    <meta
      property="og:description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta
      property="og:url"
      content="http://www.bloggure.info/.shell/shelf/itunes-media-sharing-over-the-internet-from-a-nas"
    />
    <meta property="og:site_name" content="Bloggure" />

    <link
      rel="canonical"
      href="http://www.bloggure.info/.shell/shelf/itunes-media-sharing-over-the-internet-from-a-nas"
    />
    <link
      href="http://www.bloggure.info/feed.xml"
      type="application/atom+xml"
      rel="alternate"
      title="Bloggure Feed"
    />

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- For all browsers -->
    <link
      rel="stylesheet"
      href="http://www.bloggure.info/assets/css/main.css"
    />
    <!-- Webfonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic"
      rel="stylesheet"
      type="text/css"
    />

    <meta http-equiv="cleartype" content="on" />

    <!-- Load Modernizr -->
    <script src="http://www.bloggure.info/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.ico" />
    <!-- 32x32 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.png" />
    <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.bloggure.info/images/apple-touch-icon-precomposed.png"
    />
    <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="http://www.bloggure.info/images/apple-touch-icon-72x72-precomposed.png"
    />
    <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="http://www.bloggure.info/images/apple-touch-icon-114x114-precomposed.png"
    />
    <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://www.bloggure.info/images/apple-touch-icon-144x144-precomposed.png"
    />
  </head>

  <body id="post">
    <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

    <div class="entry-header">
      <header class="header-title">
        <div class="header-title-wrap">
          <h1 class="entry-title" itemprop="name">
            <a href="http://www.bloggure.info/">Bloggure</a>
          </h1>
        </div>
        <!-- /.header-title-wrap -->
      </header>
    </div>

    <div id="main" role="main">
      <article class="hentry">
        <div class="entry-content">
          <header>
            <div class="entry-meta">
              <span class="entry-date date published updated"
                ><time
                  datetime="2010-11-14T00:00:00+01:00"
                  itemprop="datePublished"
                  ><a
                    href="http://www.bloggure.info/.shell/shelf/itunes-media-sharing-over-the-internet-from-a-nas"
                    >November 14, 2010</a
                  ></time
                ></span
              ><span
                class="author vcard"
                itemprop="author"
                itemscope
                itemtype="http://schema.org/Person"
                ><span itemprop="name" class="fn"
                  ><a
                    href="http://www.bloggure.info/cgatay"
                    title="About cgatay"
                    itemprop="url"
                    >cgatay</a
                  ></span
                ></span
              >&nbsp; &bull; &nbsp;<span class="entry-comments"
                ><a
                  href="http://www.bloggure.info/.shell/shelf/itunes-media-sharing-over-the-internet-from-a-nas/#disqus_thread"
                  >Comment</a
                ></span
              >
            </div>
            <!-- /.entry-meta -->

            <h1 class="entry-title" itemprop="name">
              <a
                href="http://www.bloggure.info/.shell/shelf/itunes-media-sharing-over-the-internet-from-a-nas"
                rel="bookmark"
                title="iTunes media sharing over the Internet from a NAS"
                itemprop="url"
                >iTunes media sharing over the Internet from a NAS</a
              >
            </h1>
          </header>
          <!--:en--><img
            class="alignright size-full wp-image-99"
            title="Music"
            src="/images/uploads/2010/11/free-music-head.png"
            alt=""
            width="200"
            height="124"
          />
          <p>
            I am a big fan of music, and I like to listen to all my music
            wherever I am and whatever I do (specially when coding).
          </p>

          <p>
            All my medias are stored on a NAS drive that features a little
            embedded linux distribution as operating system. One of the service
            is called iTunes media sharing (mt-daapd is the real name of the
            daemon).
          </p>

          <p>
            It is really a cool feature as I can listen media stored on my NAS
            from whatever device on my LAN. The magic behind is called Bonjour
            which is a protocol that allows device to register themselves on the
            network and being discovered by others.
          </p>

          <p>
            My problem is I want to be able to listen to my home music at work,
            and Bonjour service does not go out of my LAN. The additional thing
            is I want to listen to my music using iTunes (I am fond of
            <a title="Bowtie" href="http://bowtieapp.com" target="_blank"
              >Bowtie</a
            >) on my MacBook Pro.
          </p>

          <!--:--><!--more--><!--:en-->
          <h1>Simulating Bonjour presence</h1>
          <p>
            The trick is to use a little software called <em>dns-sd </em>to
            register your distant IP-address as a Bonjour source, by executing
            the following command (replacing YOURIP with your public IP), you
            should see a shared library (named MYNAME) in iTunes :
          </p>

          <figure class="highlight">
            <pre><code class="language-bash" data-lang="bash"><span></span>dns-sd -P MYNAME _daap._tcp. <span class="s2">&quot;my details&quot;</span> <span class="m">3689</span> homemusic.local YOURIP<span class="p">&amp;</span></code></pre>
          </figure>

          <p>
            If it does not work, I think you've forgotten to open the 3689 TCP
            port of your firewall and / or to forward it to your box running
            mt-daapd.
          </p>
          <h1>Modifying iTunes to launch dns-sd</h1>
          <p>
            The thing is that it is not very convenient to launch the command
            line with iTunes, it would be better if all was automatic.
          </p>

          <p>
            There is a simple way of doing it that you'll have to do each times
            iTunes is updated, moving the actual iTunes binary to another file
            and trigger its launch from a small shell script.
          </p>

          <p>
            First step is to move iTunes binary, launch a Terminal.app and type
            the following :
          </p>

          <figure class="highlight">
            <pre><code class="language-bash" data-lang="bash"><span></span>mv /Applications/iTunes.app/Contents/MacOS/iTunes /Applications/iTunes.app/Contents/MacOS/iTunes.bin</code></pre>
          </figure>

          <p>
            Then, create the following shell script and record it under
            /Applications/iTunes.app/Contents/MacOS/iTunes
          </p>

          <figure class="highlight">
            <pre><code class="language-bash" data-lang="bash"><span></span><span class="ch">#!/bin/sh</span>
dns-sd -P MYNAME _daap._tcp. <span class="s2">&quot;my details&quot;</span> <span class="m">3689</span> homemusic.local YOURIP <span class="p">&amp;</span>
/Applications/iTunes.app/Contents/MacOS/iTunes.bin</code></pre>
          </figure>

          <p>Finally, make the script executable by <em>chmod</em>ding it :</p>

          <figure class="highlight">
            <pre><code class="language-bash" data-lang="bash"><span></span>chmod +x /Applications/iTunes.app/Contents/MacOS/iTunes</code></pre>
          </figure>

          <p>
            The next time you'll launch iTunes, the <em>dns-sd </em>service will
            be automatically launched, your shared media library will appear and
            your ears will love this !
          </p>

          <p>
            WARNING : you actually expose your media library to everyone on the
            internet, I suggest you to set a password / change port number / use
            a SSH tunnel to circumvent this...
          </p>
          <!--:-->
          <footer class="entry-meta">
            <span class="entry-tags"></span>

            <div class="social-share">
              <ul class="socialcount socialcount-small inline-list">
                <li class="facebook">
                  <a
                    href="https://www.facebook.com/sharer/sharer.php?u=http://www.bloggure.info/.shell/shelf/itunes-media-sharing-over-the-internet-from-a-nas"
                    title="Share on Facebook"
                    ><span class="count"
                      ><i class="fa fa-facebook-square"></i> Like</span
                    ></a
                  >
                </li>
                <li class="twitter">
                  <a
                    href="https://twitter.com/intent/tweet?text=http://www.bloggure.info/.shell/shelf/itunes-media-sharing-over-the-internet-from-a-nas"
                    title="Share on Twitter"
                    ><span class="count"
                      ><i class="fa fa-twitter-square"></i> Tweet</span
                    ></a
                  >
                </li>
              </ul>
            </div>
            <!-- /.social-share -->
          </footer>
        </div>
        <!-- /.entry-content -->
        <section id="disqus_thread"></section>
        <!-- /#disqus_thread -->
        <div class="read-more">
          <div class="read-more-header">
            <a
              href="http://www.bloggure.info/.java/work/glassfish-v3-custom-log-levels"
              class="read-more-btn"
              >Read More</a
            >
          </div>
          <!-- /.read-more-header -->
          <div class="read-more-content">
            <h3>
              <a
                href="http://www.bloggure.info/XCodeUnitTestInheritance"
                title="XCode unit test and inheritance"
                >XCode unit test and inheritance</a
              >
            </h3>
            <p>
              As I was working on an iOS project, I added unit tests to ensure
              things are not behaving badly (and will not).During the process, a
              commo...&hellip;
              <a href="http://www.bloggure.info/XCodeUnitTestInheritance"
                >Continue reading</a
              >
            </p>
          </div>
          <!-- /.read-more-content -->

          <div class="read-more-list">
            <div class="list-item">
              <h4>
                <a
                  href="http://www.bloggure.info/Revival"
                  title="Bloggure revival"
                  >Bloggure revival</a
                >
              </h4>
              <span>Published on December 01, 2020</span>
            </div>
            <!-- /.list-item -->

            <div class="list-item">
              <h4>
                <a
                  href="http://www.bloggure.info/redsocks-avoid-docker-proxy-headaches"
                  title="Avoid Proxy Headaches in Docker with redsocks"
                  >Avoid Proxy Headaches in Docker with redsocks</a
                >
              </h4>
              <span>Published on November 16, 2015</span>
            </div>
            <!-- /.list-item -->
          </div>
          <!-- /.read-more-list -->
        </div>
        <!-- /.read-more -->
      </article>
    </div>
    <!-- /#main -->

    <div class="footer-wrapper">
      <footer role="contentinfo">
        <span
          >&copy; 2020 . Powered by
          <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using a theme
          based on
          <a
            href="https://mademistakes.com/work/hpstr-jekyll-theme/"
            rel="nofollow"
            >HPSTR</a
          >.</span
        >
      </footer>
    </div>
    <!-- /.footer-wrapper -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="http://www.bloggure.info/assets/js/vendor/jquery-1.9.1.min.js"><\/script>'
        );
    </script>
    <script src="http://www.bloggure.info/assets/js/scripts.min.js"></script>

    <!-- Asynchronous Google Analytics snippet -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "//www.google-analytics.com/analytics.js",
        "ga"
      );

      ga("create", "UA-11718843-3", "auto");
      ga("require", "linkid", "linkid.js");
      ga("send", "pageview");
    </script>

    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = "thereisnoplacelike1"; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var dsq = document.createElement("script");
        dsq.type = "text/javascript";
        dsq.async = true;
        dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
        (
          document.getElementsByTagName("head")[0] ||
          document.getElementsByTagName("body")[0]
        ).appendChild(dsq);
      })();

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var s = document.createElement("script");
        s.async = true;
        s.type = "text/javascript";
        s.src = "//" + disqus_shortname + ".disqus.com/count.js";
        (
          document.getElementsByTagName("HEAD")[0] ||
          document.getElementsByTagName("BODY")[0]
        ).appendChild(s);
      })();
    </script>
    <noscript
      >Please enable JavaScript to view the
      <a href="http://disqus.com/?ref_noscript"
        >comments powered by Disqus.</a
      ></noscript
    >
    <a href="http://disqus.com" class="dsq-brlink"
      >comments powered by <span class="logo-disqus">Disqus</span></a
    >
  </body>
</html>
