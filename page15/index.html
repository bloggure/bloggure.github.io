<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>Bloggure</title>
    <meta
      name="description"
      content="Multi author blog about programming, computing and geek stuff"
    />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Bloggure" />
    <meta
      property="og:description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta property="og:url" content="http://www.bloggure.info/page15/" />
    <meta property="og:site_name" content="Bloggure" />

    <link rel="canonical" href="http://www.bloggure.info/page15/" />
    <link
      href="http://www.bloggure.info/feed.xml"
      type="application/atom+xml"
      rel="alternate"
      title="Bloggure Feed"
    />

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- For all browsers -->
    <link
      rel="stylesheet"
      href="http://www.bloggure.info/assets/css/main.css"
    />
    <!-- Webfonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic"
      rel="stylesheet"
      type="text/css"
    />

    <meta http-equiv="cleartype" content="on" />

    <!-- Load Modernizr -->
    <script src="http://www.bloggure.info/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.ico" />
    <!-- 32x32 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.png" />
    <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.bloggure.info/images/apple-touch-icon-precomposed.png"
    />
    <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="http://www.bloggure.info/images/apple-touch-icon-72x72-precomposed.png"
    />
    <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="http://www.bloggure.info/images/apple-touch-icon-114x114-precomposed.png"
    />
    <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://www.bloggure.info/images/apple-touch-icon-144x144-precomposed.png"
    />
  </head>

  <body id="post-index">
    <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

    <div class="entry-header">
      <div class="header-title">
        <div class="header-title-wrap">
          <h1>Bloggure</h1>
          <h2></h2>
        </div>
        <!-- /.header-title-wrap -->
      </div>
      <!-- /.header-title -->
    </div>
    <!-- /.entry-header -->

    <div id="main" role="main">
      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2011-09-04T00:00:00+02:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/.java/.maven/continuous-delivery-using-maven-shell"
                  >September 04, 2011</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.java/.maven/continuous-delivery-using-maven-shell/#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.java/.maven/continuous-delivery-using-maven-shell"
              rel="bookmark"
              title="Continuous delivery using Maven / Shell"
              itemprop="url"
              >Continuous delivery using Maven / Shell</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en-->
          <h2>Continuous delivery</h2>
          <img
            src="/images/uploads/2010/11/Maven_logo1.gif"
            alt=""
            title="Maven"
            width="304"
            height="78"
            class="alignright size-full wp-image-74"
          />
          <p>
            After Continuous Integration, this is the word we see on the web
            these days. Its meaning is really simple, it consists in reducing
            steps in application deployment. In order to do so a set of tools
            actually exists, you can use the same PaaS images (thanks to the
            newcomer
            <a
              href="http://blogs.vmware.com/console/2011/08/micro-cloud-foundry-open-paas-on-your-laptop-available-today.html"
              >Micro Cloud Foundry by VMWare</a
            >
            or use a special amazon ec2 instance) to have a development
            environment similar to production one. And you can use
            <a href="http://wiki.opscode.com/display/chef/Home">Chef</a> to
            manage and automate your configuration. While these alternatives are
            really interesting, I think they are way too powerful and difficult
            to setup in simple cases.<br />
            I will explain my "simple" solution based on maven, shell scripts
            and hostname detection.
          </p>

          <h2>Example release archive</h2>
          <p>
            An example is better than a thousand words, you will find an example
            of my solution in a github repository
            <a href="https://github.com/CedricGatay/easy-release-archive"
              >Easy Release Archive</a
            >. It is a maven project building a zip artifact containing
            everything to be deployed, and an example script to setup the
            Glassfish server.
          </p>
          <h3>What is inside ?</h3>
          <p>
            To understand how it works, the best thing is to look what's inside.
          </p>
          <ul>
            <li>
              an
              <a
                href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/assembly/assembly.xml"
                >assembly.xml file</a
              >
              describing the files to include and their output name and
              location.
            </li>
            <li>
              a few scripts in /src/main/resources
              <ul>
                <li>
                  <a
                    href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/resources/sanityCheck.sh"
                    >sanityCheck.sh</a
                  >
                  : helper script sourcing the correct variables depending on
                  the hostname of the machine and ensuring variables are
                  correctly setup
                </li>
                <li>
                  <a
                    href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/resources/setupGlassfish.sh"
                    >setupGlassfish.sh</a
                  >
                  : a sample script used to setup a Glassfish server with its
                  required datasources and other parameters
                </li>
                <li>
                  a
                  <a
                    href="https://github.com/CedricGatay/easy-release-archive/tree/master/src/main/resources/global"
                    >global</a
                  >
                  folder containing global configuration files
                </li>
                <li>
                  a per hostname folder (in my case
                  <a
                    href="https://github.com/CedricGatay/easy-release-archive/tree/master/src/main/resources/samva-mbp"
                    >samva-mbp</a
                  >) containing a
                  <a
                    href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/resources/samva-mbp/shell/envSetup.sh"
                    >shell/envSetup.sh</a
                  >
                  shell script to setup necessary variables and a
                  <a
                    href="https://github.com/CedricGatay/easy-release-archive/tree/master/src/main/resources/samva-mbp/config"
                    >config</a
                  >
                  folder for special environment configuration files.
                </li>
              </ul>
            </li>
            <li>
              the
              <a
                href="https://github.com/CedricGatay/easy-release-archive/blob/master/pom.xml"
                >pom.xml</a
              >
              file describing artifact versions to use in the assembly and the
              lifecycle to use.
            </li>
          </ul>

          <p>
            A simple mvn package will build the zip archive with everything
            described in the assembly.xml file. You will just have to unzip and
            run the script(s) corresponding to the application deployment for it
            to be done. You can add this command line to your build server and
            you will have a simple but powerful continuous delivery system !
          </p>
          <!--:--><!--:fr<h2>Livraison continue</h2>
<a href="http://www.bloggure.info/work/getting-source-revision-for-a-deployed-app-using-maven-and-a-servlet.html/attachment/maven_logo-2" rel="attachment wp-att-74"><img src="/images/uploads/2010/11/Maven_logo1.gif" alt="" title="Maven" width="304" height="78" class="alignright size-full wp-image-74" /></a>
Après l'intégration continue, c'est le mot à la mode sur le web ces derniers temps. Le concept est très simple, ceci consiste à réduire le nomrbe d'étapes nécessaires au déploiement d'une application. Pour le mettre en pratique il y a plusieurs solutions, utiliser un environnement PaaS similaire pour vos développements et la production (en utilisant la nouveauté <a href="http://blogs.vmware.com/console/2011/08/micro-cloud-foundry-open-paas-on-your-laptop-available-today.html">Micro Cloud Foundry de VMWare</a>, utiliser une instance EC2 spéciale). Et vous pouvez utiliser <a href="http://wiki.opscode.com/display/chef/Home">Chef</a> pour gérer et automatiser votre configuration. Bien que ces solutions soient très interessantes, je trouve qu'elles sont finalement trop puissante et difficile à mettre en oeuvre dans des cas simples.
Je vais expliquer ici ma solution "simple" utilisant maven, des scripts shell et la détection du nom de la machine.

<h2>Exemple d'archive de livraison</h2>
Comme un exemple est mieux que des milliers de mots, vous trouverez un exemple de ma solution dans un dépot github <a href="https://github.com/CedricGatay/easy-release-archive">Easy Release Archive</a>. C'est un projet maven construisant un fichier zip contenant tout ce qui doit être déployé, et un script d'exemple pour configurer le serveur Glassfish.
<h3>Quel contenu ?</h3>
Pour comprendre comment il fonctionne, la meilleure chose à faire est de regarder son contenu
<ul>
<li>un <a href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/assembly/assembly.xml">fichier assembly.xml</a> décrivant les fichiers à inclure, leurs noms finaux et leurs localisations.</li>
<li>quelques scripts dans /src/main/resources
<ul>
<li><a href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/resources/sanityCheck.sh">sanityCheck.sh</a> : un script permettant de charger les variables en fonction du nom d'hôte de la machine et de s'assurer que les variables nécessaires sont correctement configurées</li>
<li><a href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/resources/setupGlassfish.sh">setupGlassfish.sh</a> : un script simple permettant de configurer un serveur Glassfish avec les datasources et d'autres paramètres</li>
<li>un dossier <a href="https://github.com/CedricGatay/easy-release-archive/tree/master/src/main/resources/global">global</a> contenant les ficheirs de configuration globaux</li>
<li>un dossier par nom d'hôte (dans mon cas <a href="https://github.com/CedricGatay/easy-release-archive/tree/master/src/main/resources/samva-mbp">samva-mbp</a>) contenant un script shell <a href="https://github.com/CedricGatay/easy-release-archive/blob/master/src/main/resources/samva-mbp/shell/envSetup.sh">shell/envSetup.sh</a> permettant de configurer les variables nécessaires et un dossier <a href="https://github.com/CedricGatay/easy-release-archive/tree/master/src/main/resources/samva-mbp/config">config</a> pour les fichiers de configuration propres à l'environnement.
</ul>
</li>
<li>un fichier <a href="https://github.com/CedricGatay/easy-release-archive/blob/master/pom.xml">pom.xml</a> file décrivant les versions des artefacts à utiliser dans la construction du fichier zip et le cycle de vie maven à adopter.</li>
</ul>

Un simple mvn package permettra de construire l'archive zip contenant tout ce qui est décrit dans le fichier assembly.xml. Il suffira ensuite de décompresser le zip et d'exécuter le ou les scripts correspondant au déploiement pour que celui-ci se fasse simplement, on peut même demander à son serveur d'intégration continue de le faire pour avoir un système simple mais puissant de livraison continue.<-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2011-08-21T00:00:00+02:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/.java/.wicket/work/intellij-external-library-propertykey-how-to"
                  >August 21, 2011</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.java/.wicket/work/intellij-external-library-propertykey-how-to/#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.java/.wicket/work/intellij-external-library-propertykey-how-to"
              rel="bookmark"
              title="IntelliJ + External Library + @PropertyKey How To"
              itemprop="url"
              >IntelliJ + External Library + @PropertyKey How To</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en--><img
            src="/images/uploads/2011/08/idea_icon.png"
            alt=""
            title="IntelliJ IDEA Icon"
            width="64"
            height="64"
            class="alignright size-full wp-image-365"
          />
          <p>
            I am a daily user of
            <a href="http://www.jetbrains.com/idea/">IntelliJ IDEA</a> to edit
            my Java code and
            <a href="http://wicket.apache.org">Apache Wicket</a> to write my web
            application. I decided recently to use IntelliJ's annotations to
            make my code a little more robust by using <code>@Nullable</code>,
            <code>@NotNull</code>, <code>@NonNls</code> and
            <code>@PropertyKey</code>.<br />In this blog post I explain how to
            manually add annotation to an external library.
          </p>
          <!--:--><!--:fr<a href="http://www.bloggure.info/work/intellij-external-library-propertykey-how-to.html/attachment/idea_icon" rel="attachment wp-att-365"><img src="/images/uploads/2011/08/idea_icon.png" alt="" title="IntelliJ IDEA Icon" width="64" height="64" class="alignright size-full wp-image-365" /></a>J'utilise quotidiennement <a href="http://www.jetbrains.com/idea/">IntelliJ IDEA</a> pour développer en  Java et <a href="http://wicket.apache.org">Apache Wicket</a> pour écrire mes applications web. J'ai récemment entrepris d'utiliser les annotations d'IntelliJ pour rendre mon code un peu plus robuste grace à <code>@Nullable</code>, <code>@NotNull</code>, <code>@NonNls</code> and <code>@PropertyKey</code>.<br/>Dans ce billet, j'explique comment ajouter manuellement ces annotations à une librairies externe au projet.
<-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2011-08-21T00:00:00+02:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/.shell/convert-a-mysql-database-from-latin1-to-utf-8"
                  >August 21, 2011</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.shell/convert-a-mysql-database-from-latin1-to-utf-8/#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.shell/convert-a-mysql-database-from-latin1-to-utf-8"
              rel="bookmark"
              title="Convert a mySQL Database from latin1 to UTF-8"
              itemprop="url"
              >Convert a mySQL Database from latin1 to UTF-8</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en-->A frequent problem when it comes to internationalisation is
          proper handling of different charset. When you're using Java and Maven
          it is relatively easy to set up source encoding to UTF-8, but the
          frequent point of failure is in the SQL database.
          <br />
          If you use mySQL, and you have latin1 tables, but you should have
          UTF-8 instead, use this little script to convert from latin1 to UTF-8
          :
          <figure class="highlight">
            <pre><code class="language-bash" data-lang="bash"><span></span>mysqldump --user<span class="o">=</span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span> --password<span class="o">=</span><span class="si">${</span><span class="nv">PASS</span><span class="si">}</span> --default-character-set<span class="o">=</span>latin1 --skip-set-charset <span class="si">${</span><span class="nv">DATABASE</span><span class="si">}</span> &gt; dump.sql<span class="p">;</span>
sed -r ‘s/latin1/utf8/g’ dump.sql &gt; dump_utf.sql
mysql --user<span class="o">=</span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span> --password<span class="o">=</span><span class="si">${</span><span class="nv">PASS</span><span class="si">}</span> --execute<span class="o">=</span>”DROP DATABASE <span class="si">${</span><span class="nv">DATABASE</span><span class="si">}</span><span class="p">;</span> CREATE DATABASE <span class="si">${</span><span class="nv">DATABASE</span><span class="si">}</span> CHARACTER SET utf8 COLLATE utf8_general_ci<span class="p">;</span>”
mysql --user<span class="o">=</span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span> --password<span class="o">=</span><span class="si">${</span><span class="nv">PASS</span><span class="si">}</span> --default-character-set<span class="o">=</span>utf8 dbname &lt; dump_utf.sql</code></pre>
          </figure>
          Generally speaking, don't hesitate to always put the
          <code>--default-character-set=utf8</code> on all the mySQL commands
          you execute. Don't forget to add at the end of your jdbc connection
          url the following parameters :
          <code>"useUnicode=true&characterEncoding=UTF-8"</code> to ensure you
          connect using UTF-8.<!--:--><!--:frUn problème fréquent quand on doit aborder l'internationalisation est la bonne gestion des différents charset. Quand vous utilisez du Java avec Maven, il est relativement simple de définir l'encoding des fichiers sources en UTF-8 mais le point courant d'échec et la base SQL.
<br/>
Si vous utilisez mySQL et que vous avez des tables en latin1, mais que vous devriez avoir de l'UTF-8, utilisez ce petit script pour convertir du latin1 vers l'UTF-8 :
<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>mysqldump --user<span class="o">=</span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span> --password<span class="o">=</span><span class="si">${</span><span class="nv">PASS</span><span class="si">}</span> --default-character-set<span class="o">=</span>latin1 --skip-set-charset <span class="si">${</span><span class="nv">DATABASE</span><span class="si">}</span> &gt; dump.sql<span class="p">;</span>
sed -r ‘s/latin1/utf8/g’ dump.sql &gt; dump_utf.sql
mysql --user<span class="o">=</span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span> --password<span class="o">=</span><span class="si">${</span><span class="nv">PASS</span><span class="si">}</span> --execute<span class="o">=</span>”DROP DATABASE <span class="si">${</span><span class="nv">DATABASE</span><span class="si">}</span><span class="p">;</span> CREATE DATABASE <span class="si">${</span><span class="nv">DATABASE</span><span class="si">}</span> CHARACTER SET utf8 COLLATE utf8_general_ci<span class="p">;</span>”
mysql --user<span class="o">=</span><span class="si">${</span><span class="nv">USER</span><span class="si">}</span> --password<span class="o">=</span><span class="si">${</span><span class="nv">PASS</span><span class="si">}</span> --default-character-set<span class="o">=</span>utf8 dbname &lt; dump_utf.sql</code></pre></figure>
Globalement, n'hésitez pas à toujours placer <code>--default-character-set=utf8</code> dans toutes les commandes mySQL que vous exécutez.
N'oubliez pas non plus d'ajouter les paramètres <code>"useUnicode=true&characterEncoding=UTF-8"</code> à la fin de votre url de connexion jdbc pour vous assurez que vous vous connectez en UTF-8.-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2011-08-09T00:00:00+02:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/.java/.maven/ejb-client-package-jrebel-glassfish"
                  >August 09, 2011</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.java/.maven/ejb-client-package-jrebel-glassfish/#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.java/.maven/ejb-client-package-jrebel-glassfish"
              rel="bookmark"
              title="ejb-client package + JRebel + Glassfish"
              itemprop="url"
              >ejb-client package + JRebel + Glassfish</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en--><img
            src="/images/uploads/2011/08/logo_jrebel.png"
            alt=""
            title="JRebel"
            width="146"
            height="40"
            class="alignright size-full wp-image-340"
          />
          <h2>JRebel ?</h2>
          <p>
            I use
            <a href="http://www.zeroturnaround.com/jrebel/" title="JRebel"
              >JRebel</a
            >
            to speed up my development. It is a really impressive tool allowing
            to develop full blended Java EE application as you would develop in
            PHP. No redeploy, at the cost of a little slow-down in development
            mode. The tool does what it says, and it's worth the price ! The
            JRebel plugin for maven does the job very well by generating the
            <code>rebel.xml</code> file that does the magic.
          </p>

          <h2>What's the deal ?</h2>
          <p>
            Although JRebel is an awesome tool, there is some magic within, and,
            in special corner cases it might not work as expected. In my case I
            have a quite typical web application split in multiple parts:
          </p>
          <ul>
            <li>a web application (war)</li>
            <li>an ejb module (jar)</li>
            <li>other modules not involved in my problem</li>
          </ul>
          <p>
            The web application includes, in its
            <code>WEB-INF/lib</code> folder, the <em>ejb-client</em> artifact of
            my ejb module. To make it clear, <em>ejb-client</em> artifact is
            typically the jar containing the interfaces to be used by the client
            module(s).
          </p>

          <p>
            The problem I had was that JRebel magic was reloading too much
            things : in fact, it reloaded classes even if they were not in the
            <em>ejb-client</em>. My application container (Glassfish 3.x) was
            not very keen on this thing. I opened
            <a
              href="http://www.zeroturnaround.com/forum/topic.php?id=1315"
              title="JRebel + Glassfish 3.1 + ejb-client + Wicket"
              >a thread on ZeroTurnAround's forum</a
            >
            and the answer I got is that I have to find a way to ignore files in
            my <em>ejb-client</em> module. By digging in
            <em>maven-ejb-plugin</em>, I didn't find anything to rename a file
            in the <em>ejb-client</em> module, and I didn't find a parameter to
            pass to JRebel to specify which filenames can contain its
            configuration.
          </p>
          <!--:--><!--:fr<a href="http://www.bloggure.info/java-work/ejb-client-package-jrebel-glassfish.html/attachment/logo_jrebel" rel="attachment wp-att-340"><img src="/images/uploads/2011/08/logo_jrebel.png" alt="" title="JRebel" width="146" height="40" class="alignright size-full wp-image-340" /></a>
<h2>JRebel ?</h2>
J'utilise <a href="http://www.zeroturnaround.com/jrebel/" title="JRebel">JRebel</a> pour accélerer mon cycle de développement. C'est un outil impressionnant qui permet de développer une application Java EE comme du PHP. Pas de redéploiement, tout ça au prix d'une petite perte de performances en mode développement. L'outil fait ce qu'il promet, et vaut réellement son prix ! Le plugin JRebel pour maven fait exactement ce qu'on attend de lui en générant automatiquement le fichier <code>rebel.xml</code> qui s'occupe de la magie.

<h2>Quel est le problème alors ?</h2>
Bien que JRebel soit un outil génial, il y a un peu trop de magie à l'intérieur et, dans certains cas particuliers, il se peut que ça ne marche pas tout à fait comme attendu. Dans mon cas, j'ai une application web assez classique divisée en plusieurs modules :
<ul>
   <li>une application web (war)</li>
   <li>un module ejb (jar)</li>
   <li>d'autres modules non impliqués dans mon problème</li>
</ul>
La web application inclut, dans son dossier <code>WEB-INF/lib</code>, l'artifact <em>ejb-client</em> de mon module ejb. Pour être clair, l'artifact <em>ejb-client</em> est généralement le jar contenant les interfaces publiées permettant l'utilisation des ejb par les modules clients.

Le problème que j'ai eu était que la magie de JRebel entraînait le rechargemenet de trop de classes. En fait, JRebel rechargeait des classes qui n'étaient même pas dans mon artifact <em>ejb-client</em>. Mon container d'application (Glassfish 3.x) n'aimait pas trop ce comportement. J'ai donc ouvert <a href="http://www.zeroturnaround.com/forum/topic.php?id=1315" title="JRebel + Glassfish 3.1 + ejb-client + Wicket">un sujet sur le forum de ZeroTurnAround</a> où j'ai eu une réponse me disant de trouver un moyen d'exclure les fichiers que je ne voulais pas voir rechargés dans mon module <em>ejb-client</em>.

J'ai donc fouiné dans <em>maven-ejb-plugin</em>, mais je n'ai rien trouvé permettant de renommer un fichier dans l'artifact <em>ejb-client</em>. Je n'ai pas non plus trouvé de paramètre spécifique à passer à JRebel pour lui spécifier quels noms de fichier il doit monitorer pour trouver sa configuration.
-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <div class="pagination">
        <a href="http://www.bloggure.info/page14" class="btn">Previous</a>

        <ul class="inline-list">
          <li>
            <a href="http://www.bloggure.info/">1</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page2">2</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page3">3</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page4">4</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page5">5</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page6">6</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page7">7</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page8">8</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page9">9</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page10">10</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page11">11</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page12">12</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page13">13</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page14">14</a>
          </li>

          <li>
            <span class="current-page">15</span>
          </li>

          <li>
            <a href="http://www.bloggure.info/page16">16</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page17">17</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page18">18</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page19">19</a>
          </li>
        </ul>

        <a href="http://www.bloggure.info/page16" class="btn">Next</a>
      </div>
    </div>
    <!-- /#main -->

    <div class="footer-wrapper">
      <footer role="contentinfo">
        <span
          >&copy; 2020 . Powered by
          <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using a theme
          based on
          <a
            href="https://mademistakes.com/work/hpstr-jekyll-theme/"
            rel="nofollow"
            >HPSTR</a
          >.</span
        >
      </footer>
    </div>
    <!-- /.footer-wrapper -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="http://www.bloggure.info/assets/js/vendor/jquery-1.9.1.min.js"><\/script>'
        );
    </script>
    <script src="http://www.bloggure.info/assets/js/scripts.min.js"></script>

    <!-- Asynchronous Google Analytics snippet -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "//www.google-analytics.com/analytics.js",
        "ga"
      );

      ga("create", "UA-11718843-3", "auto");
      ga("require", "linkid", "linkid.js");
      ga("send", "pageview");
    </script>

    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = "thereisnoplacelike1"; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var dsq = document.createElement("script");
        dsq.type = "text/javascript";
        dsq.async = true;
        dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
        (
          document.getElementsByTagName("head")[0] ||
          document.getElementsByTagName("body")[0]
        ).appendChild(dsq);
      })();

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var s = document.createElement("script");
        s.async = true;
        s.type = "text/javascript";
        s.src = "//" + disqus_shortname + ".disqus.com/count.js";
        (
          document.getElementsByTagName("HEAD")[0] ||
          document.getElementsByTagName("BODY")[0]
        ).appendChild(s);
      })();
    </script>
    <noscript
      >Please enable JavaScript to view the
      <a href="http://disqus.com/?ref_noscript"
        >comments powered by Disqus.</a
      ></noscript
    >
    <a href="http://disqus.com" class="dsq-brlink"
      >comments powered by <span class="logo-disqus">Disqus</span></a
    >
  </body>
</html>
