<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>Bloggure</title>
    <meta
      name="description"
      content="Multi author blog about programming, computing and geek stuff"
    />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Bloggure" />
    <meta
      property="og:description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta property="og:url" content="http://www.bloggure.info/page14/" />
    <meta property="og:site_name" content="Bloggure" />

    <link rel="canonical" href="http://www.bloggure.info/page14/" />
    <link
      href="http://www.bloggure.info/feed.xml"
      type="application/atom+xml"
      rel="alternate"
      title="Bloggure Feed"
    />

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- For all browsers -->
    <link
      rel="stylesheet"
      href="http://www.bloggure.info/assets/css/main.css"
    />
    <!-- Webfonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic"
      rel="stylesheet"
      type="text/css"
    />

    <meta http-equiv="cleartype" content="on" />

    <!-- Load Modernizr -->
    <script src="http://www.bloggure.info/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.ico" />
    <!-- 32x32 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.png" />
    <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.bloggure.info/images/apple-touch-icon-precomposed.png"
    />
    <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="http://www.bloggure.info/images/apple-touch-icon-72x72-precomposed.png"
    />
    <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="http://www.bloggure.info/images/apple-touch-icon-114x114-precomposed.png"
    />
    <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://www.bloggure.info/images/apple-touch-icon-144x144-precomposed.png"
    />
  </head>

  <body id="post-index">
    <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

    <div class="entry-header">
      <div class="header-title">
        <div class="header-title-wrap">
          <h1>Bloggure</h1>
          <h2></h2>
        </div>
        <!-- /.header-title-wrap -->
      </div>
      <!-- /.header-title -->
    </div>
    <!-- /.entry-header -->

    <div id="main" role="main">
      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2012-02-23T00:00:00+01:00"
                itemprop="datePublished"
                ><a href="http://www.bloggure.info/.git/work/gitlabhq"
                  >February 23, 2012</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.git/work/gitlabhq#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.git/work/gitlabhq"
              rel="bookmark"
              title="GitLabHQ and a good branching model"
              itemprop="url"
              >GitLabHQ and a good branching model</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en-->
          <h2>Migrating to Git</h2>
          <img
            src="/images/uploads/2011/12/GitLogo.jpg"
            alt=""
            title="GitLogo"
            width="97"
            height="202"
            class="alignright size-full wp-image-491"
          />
          <p>
            At work, we made the move from subversion to git as our version
            control tool. I used git for a few times before we migrate the whole
            project thanks to the git-svn bridge, and, apart from the usual
            headache when it comes to merging branches, I was rather convinced
            we would make the migration to git. To explain what branching model
            I was expecting to use, I dig the Internet for a good tool, hoping
            to migrate our so "1.0" Trac version control and issue management to
            a more github like one.
          </p>

          <h2>Founds</h2>
          <p>
            There is not as much tools as I first thought, I found
            <a href="https://gitorious.org/gitorious">gitorious</a>, which seems
            to be a good tool, but it looks complicated to setup and lacks (or I
            didn't find it) a good graphical representation of the branches in
            the repository. <br />

            I came across <a href="http://gitlabhq.com/">gitlabhq</a>, which is
            a starting project, but promising as it aims to mimic github in many
            ways. I've tried it and I must say I am very impressed, it is now
            one of the tool we use internally, it is not yet a perfect tool but
            it does its jobs very well. We still use our old Trac environment
            with git integration to hunt down our bugs and control ticket
            workflow with commit messages (blog post to come). We also use
            Trac's wiki to write our internal documentation toward developpers.
          </p>
          <!--:--><!--:fr<h2>Migration vers Git</h2>
<img src="/images/uploads/2011/12/GitLogo.jpg" alt="" title="GitLogo" width="97" height="202" class="alignright size-full wp-image-491" />
Au travail, nous avons pris la décision de passer de Subversion à Git comme outil de gestion de sources. J'ai utilisé git quelques mois avant de migrer l'intégralité du projet pour tout le monde grace à l'outil git-svn. Et, mis à part les problèmes habituels de merge entre branches svn, j'étais plutôt enthousiaste concernant la migration vers git. L'idée était de disposer d'un outil plus puissant pour pouvoir séparer plus efficacement les développements en utilisant des branches. Pour expliquer quelle technique j'avais envie de mettre en place pour gérer nos branches de développement, j'ai cherché l'outil qu'il nous fallait, tout en espérant pouvoir migrer notre outil de gestion d'incident actuel (Trac) vers un se rapprochant plus de github.

<h2>Résultats</h2>
Il n'y a pas tant d'outils que je le pensais au préalable. J'ai trouvé <a href="https://gitorious.org/gitorious">gitorious</a>, qui a l'air d'être un bon outil, mais l'installation à l'air complexe et ne propose pas (où je suis passé à côté) d'outil permettant de visualiser de façon graphique les branches.

Je suis tombé sur <a href="http://gitlabhq.com/">GitLabHQ</a>, qui est un projet naissant, mais prometteur puisque l'objectif est de fournir une alternative similaire à github. Je l'ai essayé et je dois dire que je suis réellement très impressionné, à tel point que c'est maintenant un des outils que nous utilisons en complèment de Trac.
Nous utilisons toujours Trac pour gérer nos tickets de bugs et pour contrôler leur workflow à l'aide de messages de commit (il y aura un post ici à ce sujet dans quelques temps). Nous utilisons aussi le wiki de Trac pour la documentation développeur (nous n'avons pas encore pris le temps de la migrer vers GitLabHQ, ce qui arrivera certainement).
<-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2012-02-17T00:00:00+01:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/thoughts/mac-os-x-10-8-mountain-lion-thoughts"
                  >February 17, 2012</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/thoughts/mac-os-x-10-8-mountain-lion-thoughts#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/thoughts/mac-os-x-10-8-mountain-lion-thoughts"
              rel="bookmark"
              title="Mac OS X 10.8 - Mountain Lion thoughts"
              itemprop="url"
              >Mac OS X 10.8 - Mountain Lion thoughts</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en-->
          <p>
            Apple silently announced their future release of Mac OS X operating
            system to come this summer (2012). The pages on Apple website show
            the new features and claim this release is the missing bridge
            between the iPad and the Macs, I think it narrows the gap between
            their two OSes even more than they claim, I fear a completely bound
            to Application Store operating system requiring jailbreak to be free
            in OS X 10.9...
          </p>
          <!--:-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2012-02-12T00:00:00+01:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/nosql/work/mongodb-request-failing-when-upgrading-1-8-2-x"
                  >February 12, 2012</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/nosql/work/mongodb-request-failing-when-upgrading-1-8-2-x#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/nosql/work/mongodb-request-failing-when-upgrading-1-8-2-x"
              rel="bookmark"
              title="mongoDB request failing when upgrading (1.8 > 2.x)"
              itemprop="url"
              >mongoDB request failing when upgrading (1.8 > 2.x)</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <!--:en-->
          <p>
            At work we faced a strange issue with mongoDB 2.x. Whereas our
            requests were working perfectly with mongoDB 1.8 we always got
            errors. The message mongoDB was firing at us was of the form :
          </p>

          <figure class="highlight">
            <pre><code class="language-java" data-lang="java"><span></span><span class="n">Caused</span><span class="w"> </span><span class="n">by</span><span class="p">:</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="na">mongodb</span><span class="p">.</span><span class="na">MongoException</span><span class="p">:</span><span class="w"> </span><span class="n">assertion</span><span class="w"> </span><span class="n">db</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">bson</span><span class="o">/</span><span class="n">bsonobjbuilder</span><span class="p">.</span><span class="na">h</span><span class="p">:</span><span class="mi">127</span>
<span class="w">       </span><span class="n">at</span><span class="w"> </span><span class="n">com</span><span class="p">.</span><span class="na">mongodb</span><span class="p">.</span><span class="na">MongoException</span><span class="p">.</span><span class="na">parse</span><span class="p">(</span><span class="n">MongoException</span><span class="p">.</span><span class="na">java</span><span class="p">:</span><span class="mi">82</span><span class="p">)</span></code></pre>
          </figure>
          <img
            src="/images/uploads/2012/02/mongo.png"
            alt=""
            title="mongoDB leaf"
            width="128"
            height="128"
            class="alignright size-full wp-image-507"
          />
          <p>
            I found the following issue in
            <a href="https://jira.mongodb.org/browse/SERVER-3846"
              >mongoDB's Jira</a
            >
            but apparently nothing to do with our requests (we are not using
            empty properties indexes), it takes me a lot of time to figure out
            that, at times, our request were sorted on empty properties (<a
              href="https://jira.mongodb.org/browse/SERVER-3874"
              >as stated here</a
            >). The fix is really simple,
            <strong>do not sort on empty properties</strong> !
          </p>

          <p>
            As it takes me times to find this and I did not find any blog post
            explaining this, I hope it will help another developer.
          </p>
          <!--:--><!--:frNous avons rencontré un problème assez étrange avec mongoDB 2.x. Alors que nos requêtes existantes marchaient sans aucun soucis avec mongoDB 1.8. mongoDB répondait invariablement avec l'erreur suivante :

<pre class="brush: java">
Caused by: com.mongodb.MongoException: assertion db/../bson/bsonobjbuilder.h:127
       at com.mongodb.MongoException.parse(MongoException.java:82)
</pre>
<img src="/images/uploads/2012/02/mongo.png" alt="" title="mongoDB leaf" width="128" height="128" class="alignright size-full wp-image-507" />
J'ai bien sur trouvé le bug suivant sur <a href="https://jira.mongodb.org/browse/SERVER-3846">le Jira du projet mongoDB</a> mais apparement rien à voir avec nos requêtes (nous n'avons pas d'index sur des propriétés vides). Cela m'a pris pas mal de temps avant de comprendre que, parfois, nos requêtes étaient parfois triées sur des propriétés vides (<a href="https://jira.mongodb.org/browse/SERVER-3874">comme précisé ici</a>).
Le correctif est vraiment simple, <strong>ne triez pas sur des propriétés vides</strong> !

Puisque j'ai mis pas mal de temps à comprendre ce qui se passait et que je n'ai trouvé aucun billet relatif, j'espère que ça aidera un autre développeur.<-->
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <article
        class="hentry"
        itemprop="blogPost"
        itemscope
        itemtype="http://schema.org/BlogPosting"
      >
        <header>
          <div class="entry-meta">
            <span class="entry-date date published updated"
              ><time
                datetime="2011-12-19T00:00:00+01:00"
                itemprop="datePublished"
                ><a
                  href="http://www.bloggure.info/.git/.maven/git-bisect-saved-my-day"
                  >December 19, 2011</a
                ></time
              ></span
            ><span
              class="author vcard"
              itemprop="author"
              itemscope
              itemtype="http://schema.org/Person"
              ><span itemprop="name" class="fn"
                ><a
                  href="http://www.bloggure.info/cgatay"
                  title="About cgatay"
                  itemprop="url"
                  >cgatay</a
                ></span
              ></span
            >&nbsp; &bull; &nbsp;<span class="entry-comments"
              ><a
                href="http://www.bloggure.info/.git/.maven/git-bisect-saved-my-day#disqus_thread"
                >Comment</a
              ></span
            >
          </div>
          <!-- /.entry-meta -->

          <h1 class="entry-title" itemprop="name">
            <a
              href="http://www.bloggure.info/.git/.maven/git-bisect-saved-my-day"
              rel="bookmark"
              title="git bisect saved my day !"
              itemprop="url"
              >git bisect saved my day !</a
            >
          </h1>
        </header>
        <div class="entry-content" itemprop="description">
          <p>
            This morning one of the Jenkins job went red, 5 tests were failing,
            and it was very difficult to find out which commit caused the break
            (69 commits were concerned), I used git bisect to run maven tests to
            find the guilty one. Here is a quick howto:
          </p>
          <ul>
            <li>
              find a stable commit (in my case it
              was <strong>2ea34cf09cc83804cdcc445476bfb597c617a034</strong>)
            </li>
            <li>
              write a short script (myScript.sh) allowing you to run the tests:
            </li>
          </ul>

          <figure class="highlight">
            <pre><code class="language-bash" data-lang="bash"><span></span><span class="ch">#!/bin/sh</span>
mvn<span class="w"> </span>-f<span class="w"> </span>path/to/my/pom.xml<span class="w"> </span>-Dtest<span class="o">=</span>MyTestClass<span class="w"> </span><span class="nb">test</span></code></pre>
          </figure>
          <ul>
            <li>
              git bisect start <strong>HEAD</strong>
              <strong>2ea34cf09cc83804cdcc445476bfb597c617a034</strong>
            </li>
            <li>git bisect run ./myScript.sh</li>
          </ul>
          <p>
            That's all, in a few runs (6 in my cases), git found out the commit
            causing the test failure, a simple git revert and tests were back to
            green !
          </p>
        </div>
        <!-- /.entry-content -->
      </article>
      <!-- /.hentry -->

      <div class="pagination">
        <a href="http://www.bloggure.info/page13" class="btn">Previous</a>

        <ul class="inline-list">
          <li>
            <a href="http://www.bloggure.info/">1</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page2">2</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page3">3</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page4">4</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page5">5</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page6">6</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page7">7</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page8">8</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page9">9</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page10">10</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page11">11</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page12">12</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page13">13</a>
          </li>

          <li>
            <span class="current-page">14</span>
          </li>

          <li>
            <a href="http://www.bloggure.info/page15">15</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page16">16</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page17">17</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page18">18</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page19">19</a>
          </li>

          <li>
            <a href="http://www.bloggure.info/page20">20</a>
          </li>
        </ul>

        <a href="http://www.bloggure.info/page15" class="btn">Next</a>
      </div>
    </div>
    <!-- /#main -->

    <div class="footer-wrapper">
      <footer role="contentinfo">
        <span
          >&copy; 2025 . Powered by
          <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using a theme
          based on
          <a
            href="https://mademistakes.com/work/hpstr-jekyll-theme/"
            rel="nofollow"
            >HPSTR</a
          >.</span
        >
      </footer>
    </div>
    <!-- /.footer-wrapper -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="http://www.bloggure.info/assets/js/vendor/jquery-1.9.1.min.js"><\/script>'
        );
    </script>
    <script src="http://www.bloggure.info/assets/js/scripts.min.js"></script>

    <!-- Asynchronous Google Analytics snippet -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "//www.google-analytics.com/analytics.js",
        "ga"
      );

      ga("create", "UA-11718843-3", "auto");
      ga("require", "linkid", "linkid.js");
      ga("send", "pageview");
    </script>

    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = "thereisnoplacelike1"; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var dsq = document.createElement("script");
        dsq.type = "text/javascript";
        dsq.async = true;
        dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
        (
          document.getElementsByTagName("head")[0] ||
          document.getElementsByTagName("body")[0]
        ).appendChild(dsq);
      })();

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var s = document.createElement("script");
        s.async = true;
        s.type = "text/javascript";
        s.src = "//" + disqus_shortname + ".disqus.com/count.js";
        (
          document.getElementsByTagName("HEAD")[0] ||
          document.getElementsByTagName("BODY")[0]
        ).appendChild(s);
      })();
    </script>
    <noscript
      >Please enable JavaScript to view the
      <a href="http://disqus.com/?ref_noscript"
        >comments powered by Disqus.</a
      ></noscript
    >
    <a href="http://disqus.com" class="dsq-brlink"
      >comments powered by <span class="logo-disqus">Disqus</span></a
    >
  </body>
</html>
