<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>Use VirtualBox to do a real install &#8211; Bloggure</title>
    <meta
      name="description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta name="keywords" content="tips, hack" />

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Use VirtualBox to do a real install" />
    <meta
      property="og:description"
      content="Multi author blog about programming, computing and geek stuff"
    />
    <meta
      property="og:url"
      content="http://www.bloggure.info/www/os/use-VirtualBox-to-do-a-real-install"
    />
    <meta property="og:site_name" content="Bloggure" />

    <link
      rel="canonical"
      href="http://www.bloggure.info/www/os/use-VirtualBox-to-do-a-real-install"
    />
    <link
      href="http://www.bloggure.info/feed.xml"
      type="application/atom+xml"
      rel="alternate"
      title="Bloggure Feed"
    />

    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- For all browsers -->
    <link
      rel="stylesheet"
      href="http://www.bloggure.info/assets/css/main.css"
    />
    <!-- Webfonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic"
      rel="stylesheet"
      type="text/css"
    />

    <meta http-equiv="cleartype" content="on" />

    <!-- Load Modernizr -->
    <script src="http://www.bloggure.info/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.ico" />
    <!-- 32x32 -->
    <link rel="shortcut icon" href="http://www.bloggure.info/favicon.png" />
    <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
    <link
      rel="apple-touch-icon-precomposed"
      href="http://www.bloggure.info/images/apple-touch-icon-precomposed.png"
    />
    <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="http://www.bloggure.info/images/apple-touch-icon-72x72-precomposed.png"
    />
    <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="http://www.bloggure.info/images/apple-touch-icon-114x114-precomposed.png"
    />
    <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="http://www.bloggure.info/images/apple-touch-icon-144x144-precomposed.png"
    />
  </head>

  <body id="post">
    <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

    <div class="entry-header">
      <header class="header-title">
        <div class="header-title-wrap">
          <h1 class="entry-title" itemprop="name">
            <a href="http://www.bloggure.info/">Bloggure</a>
          </h1>
        </div>
        <!-- /.header-title-wrap -->
      </header>
    </div>

    <div id="main" role="main">
      <article class="hentry">
        <div class="entry-content">
          <header>
            <div class="entry-meta">
              <span class="entry-date date published updated"
                ><time
                  datetime="2014-03-08T00:00:00+01:00"
                  itemprop="datePublished"
                  ><a
                    href="http://www.bloggure.info/www/os/use-VirtualBox-to-do-a-real-install"
                    >March 08, 2014</a
                  ></time
                ></span
              ><span
                class="author vcard"
                itemprop="author"
                itemscope
                itemtype="http://schema.org/Person"
                ><span itemprop="name" class="fn"
                  ><a
                    href="http://www.bloggure.info/cgatay"
                    title="About cgatay"
                    itemprop="url"
                    >cgatay</a
                  ></span
                ></span
              >&nbsp; &bull; &nbsp;<span class="entry-comments"
                ><a
                  href="http://www.bloggure.info/www/os/use-VirtualBox-to-do-a-real-install/#disqus_thread"
                  >Comment</a
                ></span
              >
            </div>
            <!-- /.entry-meta -->

            <h1 class="entry-title" itemprop="name">
              <a
                href="http://www.bloggure.info/www/os/use-VirtualBox-to-do-a-real-install"
                rel="bookmark"
                title="Use VirtualBox to do a real install"
                itemprop="url"
                >Use VirtualBox to do a real install</a
              >
            </h1>
          </header>
          <h1 id="install-from-virtualbox-">Install from VirtualBox ?</h1>
          <p>
            If you are like me, you have got plenty of hard drives hanging
            around and never got an optical drive or an usb stick. One thing
            that could reveal itself to be hard is installing a new Operating
            System on any machine without any of the two I mentionned earlier.
          </p>

          <p>
            In this short tips and tricks post, I will show you how you can use
            VirtualBox raw disks feature (I guess here for compatibility with
            VMWare) to install a new Operating System from your old one (yes,
            without the 10 minutes part were you can do nothing else with your
            computer).
          </p>

          <h1 id="prerequisites">Prerequisites</h1>

          <p>What you will need in order for this to work :</p>

          <ul>
            <li>a Linux setup with root access (sudoing will be fine)</li>
            <li>
              a second hard drive where you want to put your brand new Operating
              System
            </li>
            <li>ISO file of the OS you want to install</li>
          </ul>

          <h1 id="install">Install</h1>

          <p>
            First of all, install VirtualBox on your system (<code>yum</code>,
            <code>apt-get</code>, whatever your package system is). Then you
            will need to find out what is the identifier of the drive you want
            to use as a new (<code>sudo fdisk -l</code> can tell you everything
            you need to know about your disks).
          </p>

          <p>
            In my example lets say I want to install on a 300GB hard drive, I
            got this <code>fdisk</code> output
          </p>

          <pre><code>cgatay@cgatay2:~$ sudo fdisk -l
[sudo] password for cgatay:

Disk /dev/sda: 251.1 GB, 251059544064 bytes
255 heads, 63 sectors/track, 30522 cylinders, total 490350672 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x000efa30

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048   489302015   244649984   83  Linux
/dev/sda2       489304062   490348543      522241    5  Extended
/dev/sda5       489304064   490348543      522240   82  Linux swap / Solaris

Disk /dev/sdb: 400.1 GB, 400088457216 bytes
255 heads, 63 sectors/track, 48641 cylinders, total 781422768 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x0003f041

   Device Boot      Start         End      Blocks   Id  System
/dev/sdb1   *          63   390627047   195313492+   7  HPFS/NTFS/exFAT
/dev/sdb2       390627048   781422767   195397860    c  W95 FAT32 (LBA)

Disk /dev/sdc: 1000.2 GB, 1000204886016 bytes
255 heads, 63 sectors/track, 121601 cylinders, total 1953525168 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00048185

   Device Boot      Start         End      Blocks   Id  System
/dev/sdc1   *        2048      499711      248832   83  Linux
/dev/sdc2          499712  1952790527   976145408   83  Linux
/dev/sdc3      1952792574  1953523711      365569    5  Extended
/dev/sdc5      1952792576  1953523711      365568   82  Linux swap / Solaris

Disk /dev/sdd: 300.1 GB, 300090728448 bytes
255 heads, 63 sectors/track, 36483 cylinders, total 586114704 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x000cb074

   Device Boot      Start         End      Blocks   Id  System
/dev/sdd1   *        2048   574060543   287029248   83  Linux
/dev/sdd2       574062590   586113023     6025217    5  Extended
/dev/sdd5       574062592   586113023     6025216   82  Linux swap / Solaris
</code></pre>

          <p>
            The interesting line is the one stating
            <code>Disk /dev/sdd: 300.1 GB</code>. From now on I will use
            /dev/sdd as the target of my install.
          </p>

          <p>
            For the rest of the commands to work you need to run everything as
            root (by sudoing), I think there is more “cleaner” way of doing this
            by correctly setting <code>suid</code> flags but I did not took the
            time to look after this.
          </p>

          <p>
            You need to create the hard disk file that will point to your
            physical install, then launch VirtualBox as root (there is a lot of
            chances that your regular user can’t do everything he wants on a
            device):
          </p>

          <pre><code>sudo VBoxManage internalcommands createrawvmdk -filename disk.vmdk -rawdisk /dev/sdd; #replace /dev/sdd with your device
sudo VirtualBox;
</code></pre>

          <p>
            From there, this is a simple VirtualBox machine setup, you just need
            to select the created disk.vmdk file for the hard disk of your
            Virtual Machine, mount the ISO and proceed with the install. At the
            end of the install, you can shut down the VirtualMachine, reboot
            your computer and use the boot selection menu of your bios (or
            change the boot order) to boot directly on your newly installed
            system.
          </p>

          <p>
            If you are on a Linux system, you can issue a
            <code>update-grub</code> that will detect all your operating systems
            and will create the boot menu (you can still boot your old one this
            way).
          </p>

          <h1 id="disclaimer">Disclaimer</h1>

          <p>
            This method has been tested multiple times for installing Windows as
            well as Linuxes without any hurt. However, it might kill kitten or
            trigger a nuclear war if used incorrectly, in such cases, I decline
            responsibility.
          </p>

          <h1 id="thoughts">Thoughts</h1>

          <p>
            As a side note, I think a Linux host is not required, you can
            achieve the same with a Windows operating system, the command line
            surely just need some improvements to point to the physical disk.
          </p>

          <footer class="entry-meta">
            <span class="entry-tags"
              ><a
                href="http://www.bloggure.info/tags/#tips"
                title="Pages tagged tips"
                class="tag"
                ><span class="term">tips</span></a
              ><a
                href="http://www.bloggure.info/tags/#hack"
                title="Pages tagged hack"
                class="tag"
                ><span class="term">hack</span></a
              ></span
            >

            <div class="social-share">
              <ul class="socialcount socialcount-small inline-list">
                <li class="facebook">
                  <a
                    href="https://www.facebook.com/sharer/sharer.php?u=http://www.bloggure.info/www/os/use-VirtualBox-to-do-a-real-install"
                    title="Share on Facebook"
                    ><span class="count"
                      ><i class="fa fa-facebook-square"></i> Like</span
                    ></a
                  >
                </li>
                <li class="twitter">
                  <a
                    href="https://twitter.com/intent/tweet?text=http://www.bloggure.info/www/os/use-VirtualBox-to-do-a-real-install"
                    title="Share on Twitter"
                    ><span class="count"
                      ><i class="fa fa-twitter-square"></i> Tweet</span
                    ></a
                  >
                </li>
              </ul>
            </div>
            <!-- /.social-share -->
          </footer>
        </div>
        <!-- /.entry-content -->
        <section id="disqus_thread"></section>
        <!-- /#disqus_thread -->
        <div class="read-more">
          <div class="read-more-header">
            <a
              href="http://www.bloggure.info/restx-the-webservice-firework"
              class="read-more-btn"
              >Read More</a
            >
          </div>
          <!-- /.read-more-header -->
          <div class="read-more-content">
            <h3>
              <a
                href="http://www.bloggure.info/SwiftUI-UIKit_Interop"
                title="SwiftUI UIKit Interop"
                >SwiftUI UIKit Interop</a
              >
            </h3>
            <p>
              Now that iOS13 is available for more than year, we can start to
              set it as a lower bound for our deployments.This allows us to play
              with a...&hellip;
              <a href="http://www.bloggure.info/SwiftUI-UIKit_Interop"
                >Continue reading</a
              >
            </p>
          </div>
          <!-- /.read-more-content -->

          <div class="read-more-list">
            <div class="list-item">
              <h4>
                <a
                  href="http://www.bloggure.info/XCodeUnitTestInheritance"
                  title="XCode unit test and inheritance"
                  >XCode unit test and inheritance</a
                >
              </h4>
              <span>Published on December 02, 2020</span>
            </div>
            <!-- /.list-item -->

            <div class="list-item">
              <h4>
                <a
                  href="http://www.bloggure.info/Revival"
                  title="Bloggure revival"
                  >Bloggure revival</a
                >
              </h4>
              <span>Published on December 01, 2020</span>
            </div>
            <!-- /.list-item -->
          </div>
          <!-- /.read-more-list -->
        </div>
        <!-- /.read-more -->
      </article>
    </div>
    <!-- /#main -->

    <div class="footer-wrapper">
      <footer role="contentinfo">
        <span
          >&copy; 2020 . Powered by
          <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using a theme
          based on
          <a
            href="https://mademistakes.com/work/hpstr-jekyll-theme/"
            rel="nofollow"
            >HPSTR</a
          >.</span
        >
      </footer>
    </div>
    <!-- /.footer-wrapper -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="http://www.bloggure.info/assets/js/vendor/jquery-1.9.1.min.js"><\/script>'
        );
    </script>
    <script src="http://www.bloggure.info/assets/js/scripts.min.js"></script>

    <!-- Asynchronous Google Analytics snippet -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "//www.google-analytics.com/analytics.js",
        "ga"
      );

      ga("create", "UA-11718843-3", "auto");
      ga("require", "linkid", "linkid.js");
      ga("send", "pageview");
    </script>

    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = "thereisnoplacelike1"; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var dsq = document.createElement("script");
        dsq.type = "text/javascript";
        dsq.async = true;
        dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
        (
          document.getElementsByTagName("head")[0] ||
          document.getElementsByTagName("body")[0]
        ).appendChild(dsq);
      })();

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
        var s = document.createElement("script");
        s.async = true;
        s.type = "text/javascript";
        s.src = "//" + disqus_shortname + ".disqus.com/count.js";
        (
          document.getElementsByTagName("HEAD")[0] ||
          document.getElementsByTagName("BODY")[0]
        ).appendChild(s);
      })();
    </script>
    <noscript
      >Please enable JavaScript to view the
      <a href="http://disqus.com/?ref_noscript"
        >comments powered by Disqus.</a
      ></noscript
    >
    <a href="http://disqus.com" class="dsq-brlink"
      >comments powered by <span class="logo-disqus">Disqus</span></a
    >
  </body>
</html>
