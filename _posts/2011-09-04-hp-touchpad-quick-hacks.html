---
layout: post
title: HP Touchpad quick hacks
categories:
- work
tags:
- tip
- touchpad
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  dsq_thread_id: '667889969'
---
<!--:en--><a href="http://www.bloggure.info/work/hp-touchpad-quick-hacks.html/attachment/hp-touchpad" rel="attachment wp-att-395"><img src="http://www.bloggure.info/wp-content/uploads/2011/09/HP-TouchPad-150x150.jpg" alt="" title="HP-TouchPad" width="150" height="150" class="alignright size-thumbnail wp-image-395" /></a><p>I am one of the lucky guys getting this hyped discontinued tablet from HP at the lowest price. I'll sum up here few things I did on it.</p>

<h2>First impressions</h2>
<p>I am an iPad owner for almost a year now, so I have my habits and I now know that tablets are mainly useful for consuming content (producing content is not really convenient when you have to use the virtual keyboard). The Touchpad is really what you expect from a tablet, full web consuming, multitasking, flash support, at a really decent speed. </p>
<!--:--><!--:fr<a href="http://www.bloggure.info/work/hp-touchpad-quick-hacks.html/attachment/hp-touchpad" rel="attachment wp-att-395"><img src="http://www.bloggure.info/wp-content/uploads/2011/09/HP-TouchPad-150x150.jpg" alt="" title="HP-TouchPad" width="150" height="150" class="alignright size-thumbnail wp-image-395" /></a>Je suis un des "chanceux" ayant pu mettre la main sur cette tablette à la mode mais stoppée en plein essor par HP à un prix canon. Je vais détailler ici quelques bidouilles que je lui ai fait subir.

<h2>Premières impressions</h2>
Je suis un utilisateur d'iPad depuis presque un an maintenant. J'ai donc mes habitudes et je sais maintenant que les tablettes sont principalement utiles pour consommer du contenu (en produire n'est réellement pas confortable avec un clavier virtuel). La HP Touchpad correspond réellement à ce à quoi on peut s'attendre d'une tablette, accès complet au web, multitâches, gestion du flash complète, tout ceci à une vitesse très correcte.<br/>
<--><!--more--><!--:en-->
<p>The first thing that amazed me is the integration with almost every kind of web accounts, I added my Google account, my Skype account, my LinkedIn account, my Facebook account and so on... The only one lacking is Twitter. After my accounts were set up, I was able to directly video call a contact using Skype via the builtin messenging application, impressive !<br/>
WebOS' UI is really clever, it makes good use of gestures and allows to group activities into "cards", for example :
<ul>
<li>launch the mail client (self configured via account setup), click on a link, a new web browser window pops in the current card</li>
<li>hit the "activities" button / swipe up from the bottom of the screen to return to the list of cards</li>
<li>open a new browser card, navigate a few a return to the list of cards</li>
<li>I can then, with a holded tap, move my old browser card from the mail card stack to the browser card stack, if I want to tidy things</li>
<li>If I want to close a card, I simply swipe up or down the card from the activity list</li>
<li>Notifications are easy to close be simply swiping them out</li>
</ul>
</p>
<p>A lot of things are based on gesture and I have to admit it takes a few hours to get used to, but it is very confortable.
So far the only and the big problem everyone tells is that the App Catalog is quite empty, but for consuming website it is not that bad, and who knows what will happen in a few weeks...</p>

<h2>Jailbreaking / Rooting...</h2>
<p>We are now used to locked devices, Unix under the hood but locked access to it, for iOS we say jailbreaking, for Android we say rooting. In either it consists in gaining full root access to the device. That's were the folks at HP/Palm are really good, you don't have to do anything complicated to gain root access, it is part of enabling the developer mode !</p>
<h3>Enabling developer mode</h3>
<p>In the "Just type..." box at the top of the screen, enter "webos20090606" (without the quotes) it will bring an icon called developer mode, launch this software, enable the developer mode and <b>do not enter a password when it is prompted</b> (failure to do so would require a full reset of webOS using WebOS Doctor software)</p>
<h3>WebOS Doctor software</h3>
<p>WebOS is a really robust OS but if you go to far it might be possible for your device to be stuck. If this happens <a href="https://ps.palmws.com/palmcsext/console/pages/LoginPage.iface">WebOS Doctor</a> will allow you to reset to factory state your tablet.</p>
<h2>Homebrews</h2>
<p>This is the part where I am really impressed, the community around WebOS gathered and developed a package manager Preware and a lot of software : port of linux software, completely native software not in HP App catalog, patch to the system and so on. If you follow the few steps mentioned here your device will be a lot faster...</p>
<h3>Installing Preware</h3>
<ul>
<li>Update WebOS to latest version (3.0.2 as of today) via Update manager or WeOS Doctor.</li>
<li>Enable developer mode (webos20090606)</li>
<li>Download <a href="http://dl.dropbox.com/u/2774158/WebOSQuickInstall-4.2.3.jar">WebOSQuickInstall</a> It requires a valid Java runtime to work</li>
<li>Connect your tablet via USB to your computer, dismiss USB mount mode, launch WebOSQuickInstall</li>
<li>Now select, from the list of application available in WebOSQuickInstall (globe icon), Preware, and let the install run</li>
<li>When it's done, you can simply unplug your Touchpad, and launch Preware locate in the Downloads tab of your launcher</li>
</ul>
<h3>Performance tweak your device</h3>
<p>Please note that while I find my device more responsive using the tricks I describe, I didn't run any benchmark to confirm it.</p>
<ul>
<li>First thing to do is turn off logging : dial ##LOGS# in the phone app and you should have access to log levels setup. From there, clear the logs and set to minimal logging</li>
<li>Second thing to do regarding logging is disabling the phone home process that uploads log files to palm servers, launch Preware, search "Overlord Monitoring" and install this patch</li>
<li>Then, go to the patch section of preware and install the following ones to reduce logging at maximum : 
   <ul> 
        <li>Muffle System Logging</li>
        <li>Remove Dropped Packet Logging</li>
        <li>Quiet powerd Messages</li>
   </ul>
</li>
<li>You can add these patches to improve overall reactivity of your device
  <ul>
        <li>Unthrottle Download Manager</li>
        <li>Faster Card Animations HYPER Version</li>
        <li>Increase Touch Sensitivity And Smoothness 10</li>
        <li>Unset CFQ IO Scheduler (especially if you intend to use another kernel, see below)</li>
   </ul>
</li>
</ul>
<p>Don't hesitate to explore Preware, you will be able to find ad-blocking patches for example...</p>
<h3>Using alternate kernel</h3>
<p>As the Touchpad is Linux based, its kernel sources are available and it allows improving certain part of the system. For example, custom kernels for the Touchpad often includes access to BFQ IO Scheduler (better than CFQ in many circumstances), overclocking (HP downclocked the CPU from 1.5GHz to 1.2GHz to get the best power / battery drain ratio). Personally I use<a href="http://forums.precentral.net/webos-internals/242728-webos-internals-uber-kernel.html"> Uberkernel</a> and Govnah to set frequency to 1.5GHz and you will notice that your device will be blazing fast. I will not detail this more here as it is pretty straightforward to do.</p>

<h2>What else ?</h2>
<p>I have did a lot more thing with the tablet for now, for example I have a smbfs share (Windows share) automatically mounted on start, SSH access, an xterm access. If I am not too lazy (blog posting in two language is a lot of work), I think I'll explain how to do this in another blog post.</p><!--:--><!--:fr
La première chose qui m'a impressionné est l'intégration avec un grand nombre de comptes web, j'ai ajouté mes comptes Google, Skype, LinkedIn, Facebook... le seul manquant à l'appel est Twitter. Une fois que mes comptes étaient configurés, j'ai directement pu passer un appel vidéo via Skype en utilisant l'application intégrée de messagerie instantanée.<br/>
L'interface de WebOS est réellement bien pensée, il y a une très bonne utilisation des gestes et autorise de grouper les activités au sein de "cartes", par exemple : 
<ul>
<li>lancer le client mail (auto configuré lors de l'ajout de compte Google), cliquez sur un lien, une nouvelle fenêtre de navigateur va s'ouvrir dans la carte en cours</li>
<li>Pressez le bouton "activités" / glissez du bas de l'écran vers le milieu pour retourner à la liste de cartes</li>
<li>Ouvrez une nouvelle fenêtre de navigateur, elle se met dans une nouvelle carte, retournez à la liste des activités</li>
<li>Il est ensuite facile, en gardant une fenêtre maintenue à l'écran, de la déplacer d'une carte à une autre</li>
<li>Pour fermer une fenêtre, il suffit de la faire glisser vers le haut ou le bas de l'écran</li>
<li>Il est possible de faire disparaître les notifications en les faisant glisser vers le bord de l'écran</li>
</ul>
Beaucoup de choses se basent sur les gestes et je dois reconnaître qu'il faut quelques heures pour s'y habituer, mais une fois ceci fait, c'est vraiment agréable.
Pour l'instant le seul gros problème est celui que tout le monde évoque et concerne la relative maigreur de la boutique d'applications d'HP. Mais pour une utilisation principalement en surf web, ce n'est pas si grave, et qui sait ce qui va arriver d'ici quelques semaines...

<h2>Jailbreaking / Rooting...</h2>
On est maintenant habitué aux machines verrouillées, Unix est sous le capot mais aucun accès à lui. Sous iOS on appelle la technique Jailbreak, sous Android on l'appelle rooting. Dans tous les cas il s'agit d'avoir un accès complet à la machine. Et c'est la que les gars de chez HP/Palm ont vraiment été bon, il n'est pas nécessaire de faire quoi que ce soit de compliquer pour avoir un accès complet, il suffit d'activer le mode développeur !
<h3>Activer le mode développeur</h3>
Dans le champ de saisie "tapez maintenant" en haut de l'écran, taper "webos20090606" (sans les guillemets) ceci va vous afficher une icône appelée mode développeur. Lancez l'application, activez le mode développeur et <b>ne rentrez rien lorsqu'il vous est demandé de saisir un mod de passe</b> (si vous le faites vous devrez faire une réinitialisation de webOS en utilisant le logiciel WebOS Doctor).
<h3>WebOS Doctor</h3>
WebOS est réellement un système d'exploitation robuste mais s'il vous arrive de vous retrouver devant une machine bloquée. Si cela vous arrive <a href="https://ps.palmws.com/palmcsext/console/pages/LoginPage.iface">WebOS Doctor</a> vous permettra de remettre voter tablette dans l'état dans lequel vous l'avez déballée.
<h2>Homebrews</h2>
C'est la partie qui m'impressionne le plus. La communauté autour de WebOS s'est formée et a developpé un gestionnaire de paquets alternatif : Preware et tout un ensemble d'autres logiciels : adaptation de version Linux, logiciels natif non présent dans l'App Catalog d'HP, patch pour le système et ainsi de suite... Si vous suivez les étapes détaillées ici il y a des chances que votre tablette soit sensiblement plus rapide.
<h3>Installer Preware</h3>
<ul>
<li>Mettez à jour WebOS à la dernière version (3.0.2 pour l'instant) via le gestionnaire de mise à jour sur votre tablette ou WeOS Doctor.</li>
<li>Activez le mode développeur (webos20090606)</li>
<li>Téléchargez <a href="http://dl.dropbox.com/u/2774158/WebOSQuickInstall-4.2.3.jar">WebOSQuickInstall</a> Il faut avoir un environnement d'exécution Java valide</li>
<li>Connectez voter tablette via l'USB à votre ordinateur, ne choisissez pas "connecter un lecteur USB", et lancez WebOSQuickInstall</li>
<li>Ensuite, à partir de la liste des applications disponibles dans WebOSQuickInstall (l'icône globe), sélectionnez Preware, et laissez l'installation se faire</li>
<li>Une fois l'installation terminée, il vous suffit de débrancher votre Touchpad et de lancer l'application Preware qui est maintenant présent dans l'onglet Téléchargements du lanceur d'application</li>
</ul>
<h3>Amélioration des performances</h3>
Veuillez noter que bien que je trouve ma tablette plus réactive en utilisant les astuces suivantes, je n'ai effectué aucun benchmark pour le confirmer.
<ul>
<li>La première chose à faire est de désactiver au maximum les journaux systèmes : composez ##LOGS# dans l'application téléphone et vous devriez avoir accès aux niveaux de journalisation. D'ici, vider les logs et définissez le logging au niveau minimum.</li>
<li>Le second point à effectuer est de désactiver l'application qui collecte et envoie les logs aux serveur de Palm/HP. Lancez Preware, recherchez "Overlord Monitoring" et installez ce patch</li>
<li>Ensuite, allez dans la section patch de Preware et installez les suivant pour réduire la journalisation au maximum : 
   <ul> 
        <li>Muffle System Logging</li>
        <li>Remove Dropped Packet Logging</li>
        <li>Quiet powerd Messages</li>
   </ul>
</li>
<li>Vous pouvez ensuite ajouter ces patchs pour améliorer la réactivité globale de la machine
  <ul>
        <li>Unthrottle Download Manager</li>
        <li>Faster Card Animations HYPER Version</li>
        <li>Increase Touch Sensitivity And Smoothness 10</li>
        <li>Unset CFQ IO Scheduler (surtout si vous comptez utiliser un autre kernel, plus d'informations dans la suite)</li>
   </ul>
</li>
</ul>
N'hésitez pas à fouiller Preware, vous pourrez y trouver un patch permettant de stopper les publicités par exemple...
<h3>Utiliser un kernel alternatif</h3>
Comme le Touchpad est basé sur Linux, les sources de son noyau sont disponibles et autorisent la communauté à les améliorer. Par exemple, les kernel alternatifs pour le Touchpad donnent souvent accès au BFQ IO Scheduler (meilleur que le CFQ proposé par défaut dans bien des cas), l'overclocking (HP a réduit la fréquence du processeur à 1.2GHz pour obtenir le meilleur ratio performance / autonomie).
J'utilise <a href="http://forums.precentral.net/webos-internals/242728-webos-internals-uber-kernel.html"> Uberkernel</a> et Govnah pour définir la fréquence à 1.5GHz ce qui rend, selon moi, la machine réellement plus rapide. Je ne vais pas détailler ici la marche à suivre car c'est finalement assez simple et si vous en êtes arrivés là c'est que vous saurez le faire...<br/>

<h2>Et ensuite ?</h2>
J'ai déjà fait beaucoup d'autres choses avec la tablette. Par exemple j'ai un partage smbfs (un partage Windows donc) provenant de mon NAS automatiquement monté au démarrage, un accès SSH, un xterm. Si j'ai le courage (faire des billets en deux langues est quelque chose d'assez long), je pense que j'expliquerai comment faire dans un billet à venir.<-->
